(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{290:function(t,s,a){"use strict";a.r(s);var e=a(13),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"å‰ç«¯å®‰å…¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯å®‰å…¨"}},[t._v("#")]),t._v(" å‰ç«¯å®‰å…¨")]),t._v(" "),s("p",[t._v("å¾…å®Œå–„ã€‚ã€‚ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("webä¸­å¯èƒ½å­˜åœ¨çš„å®‰å…¨æ¼æ´ä»¥åŠå¦‚ä½•å»æ£€æµ‹è¿™äº›å®‰å…¨æ¼æ´ï¼Œå¦‚ä½•å»é˜²èŒƒæ½œåœ¨çš„æ¶æ„æ”»å‡»")])]),t._v(" "),s("h2",{attrs:{id:"è·¨ç«™è„šæœ¬æ”»å‡»-cross-sites-script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨ç«™è„šæœ¬æ”»å‡»-cross-sites-script"}},[t._v("#")]),t._v(" è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross Sites Scriptï¼‰")]),t._v(" "),s("h2",{attrs:{id:"è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ -cross-sites-request-forgery"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ -cross-sites-request-forgery"}},[t._v("#")]),t._v(" è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross Sites Request Forgeryï¼‰")]),t._v(" "),s("h2",{attrs:{id:"ç‚¹å‡»åŠ«æŒ-clickjacking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹å‡»åŠ«æŒ-clickjacking"}},[t._v("#")]),t._v(" ç‚¹å‡»åŠ«æŒï¼ˆClickJackingï¼‰")]),t._v(" "),s("h3",{attrs:{id:"ç‚¹å‡»åŠ«æŒé˜²å¾¡æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹å‡»åŠ«æŒé˜²å¾¡æ–¹å¼"}},[t._v("#")]),t._v(" ç‚¹å‡»åŠ«æŒé˜²å¾¡æ–¹å¼")]),t._v(" "),s("h2",{attrs:{id:"å…¶ä»–å®‰å…¨é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–å®‰å…¨é—®é¢˜"}},[t._v("#")]),t._v(" å…¶ä»–å®‰å…¨é—®é¢˜")]),t._v(" "),s("h3",{attrs:{id:"è·¨åŸŸé—®é¢˜å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸé—®é¢˜å¤„ç†"}},[t._v("#")]),t._v(" è·¨åŸŸé—®é¢˜å¤„ç†")]),t._v(" "),s("h3",{attrs:{id:"postmessage-è·¨çª—å£ä¼ é€’ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#postmessage-è·¨çª—å£ä¼ é€’ä¿¡æ¯"}},[t._v("#")]),t._v(" postMessage è·¨çª—å£ä¼ é€’ä¿¡æ¯")]),t._v(" "),s("h3",{attrs:{id:"web-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[t._v("#")]),t._v(" Web Storage")]),t._v(" "),s("h3",{attrs:{id:"è·¨åŸŸé—®é¢˜å¤„ç†-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸé—®é¢˜å¤„ç†-2"}},[t._v("#")]),t._v(" è·¨åŸŸé—®é¢˜å¤„ç†")]),t._v(" "),s("h2",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("ul",[s("li",[t._v("è°¨æ…ç”¨æˆ·è¾“å…¥ä¿¡æ¯ï¼Œè¿›è¡Œè¾“å…¥æ£€æŸ¥ï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ—¶æ£€æŸ¥ï¼‰")]),t._v(" "),s("li",[t._v("åœ¨å˜é‡è¾“å‡ºåˆ°HTMLé¡µé¢æ—¶ï¼Œéƒ½åº”è¯¥è¿›è¡Œç¼–ç æˆ–è½¬ä¹‰æ¥é¢„é˜²XSSæ”»å‡»")]),t._v(" "),s("li",[t._v("è¯¥ç”¨éªŒè¯ç çš„æ—¶å€™ä¸€å®šè¦æ·»ä¸Š")]),t._v(" "),s("li",[t._v("å°½é‡åœ¨é‡è¦è¯·æ±‚ä¸Šæ·»åŠ Tokenå‚æ•°ï¼Œæ³¨æ„Tokenè¦è¶³å¤Ÿéšæœºï¼Œç”¨è¶³å¤Ÿå®‰å…¨çš„éšæœºæ•°ç”Ÿæˆç®—æ³•")])]),t._v(" "),s("h3",{attrs:{id:"ç½‘é¡µå®‰å…¨æ”¿ç­–-content-security-policy-ç¼©å†™-csp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘é¡µå®‰å…¨æ”¿ç­–-content-security-policy-ç¼©å†™-csp"}},[t._v("#")]),t._v(' "ç½‘é¡µå®‰å…¨æ”¿ç­–"ï¼ˆContent Security Policyï¼Œç¼©å†™ CSPï¼‰')]),t._v(" "),s("ul",[s("li",[s("p",[t._v("1ã€ç›®çš„ï¼šè§£å†³è·¨åŸŸè„šæœ¬æ”»å‡» XSS æ˜¯æœ€å¸¸è§ã€å±å®³æœ€å¤§çš„ç½‘é¡µå®‰å…¨æ¼æ´ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("2ã€å®è´¨ï¼šCSP çš„å®è´¨å°±æ˜¯ç™½åå•åˆ¶åº¦ï¼Œå¼€å‘è€…æ˜ç¡®å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œï¼Œç­‰åŒäºæä¾›ç™½åå•ã€‚å®ƒçš„å®ç°å’Œæ‰§è¡Œå…¨éƒ¨ç”±æµè§ˆå™¨å®Œæˆï¼Œå¼€å‘è€…åªéœ€æä¾›é…ç½®ã€‚CSP å¤§å¤§å¢å¼ºäº†ç½‘é¡µçš„å®‰å…¨æ€§ã€‚æ”»å‡»è€…å³ä½¿å‘ç°äº†æ¼æ´ï¼Œä¹Ÿæ²¡æ³•æ³¨å…¥è„šæœ¬ï¼Œé™¤éè¿˜æ§åˆ¶äº†ä¸€å°åˆ—å…¥äº†ç™½åå•çš„å¯ä¿¡ä¸»æœºã€‚")])]),t._v(" "),s("li",[s("p",[t._v("3ã€å¯ç”¨ CSPï¼š")]),t._v(" "),s("ul",[s("li",[t._v("HTTP å¤´ä¿¡æ¯çš„Content-Security-Policyçš„å­—æ®µ")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Security"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Policy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'self'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("src cdn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org third"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("party"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" child"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("src https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n")])])]),s("ul",[s("li",[t._v("é€šè¿‡ç½‘é¡µçš„"),s("meta"),t._v("æ ‡ç­¾")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Content-Security-Policy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script-src 'self'; object-src 'none'; style-src cdn.example.org third-party.org; child-src https:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ä¸Šé¢ä»£ç ä¸­ï¼ŒCSP åšäº†å¦‚ä¸‹é…ç½®: --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- è„šæœ¬ï¼šåªä¿¡ä»»å½“å‰åŸŸå\nobjectæ ‡ç­¾ï¼šä¸ä¿¡ä»»ä»»ä½•URLï¼Œå³ä¸åŠ è½½ä»»ä½•èµ„æº\næ ·å¼è¡¨ï¼šåªä¿¡ä»»cdn.example.orgå’Œthird-party.org\næ¡†æ¶ï¼ˆframeï¼‰ï¼šå¿…é¡»ä½¿ç”¨HTTPSåè®®åŠ è½½\nå…¶ä»–èµ„æºï¼šæ²¡æœ‰é™åˆ¶ --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å¯ç”¨åï¼Œä¸ç¬¦åˆ CSP çš„å¤–éƒ¨èµ„æºå°±ä¼šè¢«é˜»æ­¢åŠ è½½ --\x3e")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("4ã€é™åˆ¶é€‰é¡¹ã€CSP æä¾›äº†å¾ˆå¤šé™åˆ¶é€‰é¡¹ï¼Œæ¶‰åŠå®‰å…¨çš„å„ä¸ªæ–¹é¢ã€‘")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("èµ„æºåŠ è½½é™åˆ¶\nscript-srcï¼šå¤–éƒ¨è„šæœ¬\nstyle-srcï¼šæ ·å¼è¡¨\nimg-srcï¼šå›¾åƒ\nmedia-srcï¼šåª’ä½“æ–‡ä»¶ï¼ˆéŸ³é¢‘å’Œè§†é¢‘ï¼‰\nfont-srcï¼šå­—ä½“æ–‡ä»¶\nobject-srcï¼šæ’ä»¶ï¼ˆæ¯”å¦‚ Flashï¼‰\nchild-srcï¼šæ¡†æ¶\nframe-ancestorsï¼šåµŒå…¥çš„å¤–éƒ¨èµ„æºï¼ˆæ¯”å¦‚"),s("frame"),t._v("ã€"),s("iframe",[t._v("ã€"),s("embed"),t._v("å’Œ"),s("applet",[t._v("ï¼‰\nconnect-srcï¼šHTTP è¿æ¥ï¼ˆé€šè¿‡ XHRã€WebSocketsã€EventSourceç­‰ï¼‰\nworker-srcï¼šworkerè„šæœ¬\nmanifest-srcï¼šmanifest æ–‡ä»¶")])],1)],1)]),t._v(" "),s("li",[s("p",[t._v("default-srcç”¨æ¥è®¾ç½®ä¸Šé¢å„ä¸ªé€‰é¡¹çš„é»˜è®¤å€¼")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- é™åˆ¶æ‰€æœ‰çš„å¤–éƒ¨èµ„æºï¼Œéƒ½åªèƒ½ä»å½“å‰åŸŸååŠ è½½ --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å¦‚æœåŒæ—¶è®¾ç½®æŸä¸ªå•é¡¹é™åˆ¶ï¼ˆæ¯”å¦‚font-srcï¼‰å’Œdefault-srcï¼Œå‰è€…ä¼šè¦†ç›–åè€…ï¼Œå³å­—ä½“æ–‡ä»¶ä¼šé‡‡ç”¨font-srcçš„å€¼ï¼Œå…¶ä»–èµ„æºä¾ç„¶é‡‡ç”¨default-srcçš„å€¼ --\x3e")]),t._v("\nContent-Security-Policy: default-src 'self'\n")])])])]),t._v(" "),s("li",[s("p",[t._v("URL é™åˆ¶\nframe-ancestorsï¼šé™åˆ¶åµŒå…¥æ¡†æ¶çš„ç½‘é¡µ\nbase-uriï¼šé™åˆ¶ base#href\nform-actionï¼šé™åˆ¶ form#action")])]),t._v(" "),s("li",[s("p",[t._v("å…¶ä»–é™åˆ¶\nblock-all-mixed-contentï¼šHTTPS ç½‘é¡µä¸å¾—åŠ è½½ HTTP èµ„æºï¼ˆæµè§ˆå™¨å·²ç»é»˜è®¤å¼€å¯ï¼‰\nupgrade-insecure-requestsï¼šè‡ªåŠ¨å°†ç½‘é¡µä¸Šæ‰€æœ‰åŠ è½½å¤–éƒ¨èµ„æºçš„ HTTP é“¾æ¥æ¢æˆ HTTPS åè®®\nplugin-typesï¼šé™åˆ¶å¯ä»¥ä½¿ç”¨çš„æ’ä»¶æ ¼å¼\nsandboxï¼šæµè§ˆå™¨è¡Œä¸ºçš„é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½æœ‰å¼¹å‡ºçª—å£ç­‰ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("report-uriï¼ˆæœ‰æ—¶ï¼Œæˆ‘ä»¬ä¸ä»…å¸Œæœ›é˜²æ­¢ XSSï¼Œè¿˜å¸Œæœ›è®°å½•æ­¤ç±»è¡Œä¸ºã€‚report-uriå°±ç”¨æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œåº”è¯¥æŠŠæ³¨å…¥è¡Œä¸ºæŠ¥å‘Šç»™å“ªä¸ªç½‘å€ï¼‰")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å°†æ³¨å…¥è¡Œä¸ºæŠ¥å‘Šç»™/my_amazing_csp_report_parserè¿™ä¸ª URL,æµè§ˆå™¨ä¼šä½¿ç”¨POSTæ–¹æ³•ï¼Œå‘é€ä¸€ä¸ªJSONå¯¹è±¡ --\x3e")]),t._v("\nContent-Security-Policy: default-src 'self'; ...; report-uri /my_amazing_csp_report_parser;\n")])])])])])]),t._v(" "),s("li",[s("p",[t._v("5ã€Content-Security-Policy-Report-Only")]),t._v(" "),s("p",[t._v("é™¤äº†Content-Security-Policyï¼Œè¿˜æœ‰ä¸€ä¸ªContent-Security-Policy-Report-Onlyå­—æ®µï¼Œè¡¨ç¤ºä¸æ‰§è¡Œé™åˆ¶é€‰é¡¹ï¼Œåªæ˜¯è®°å½•è¿åé™åˆ¶çš„è¡Œä¸ºã€‚")]),t._v(" "),s("p",[t._v("å®ƒå¿…é¡»ä¸report-urié€‰é¡¹é…åˆä½¿ç”¨ï¼š\nContent-Security-Policy-Report-Only: default-src 'self'; ...; report-uri /my_amazing_csp_report_parser;")])]),t._v(" "),s("li",[s("p",[t._v("6ã€é€‰é¡¹å€¼")])]),t._v(" "),s("li",[s("p",[t._v("æ¯ä¸ªé™åˆ¶é€‰é¡¹å¯ä»¥è®¾ç½®ä»¥ä¸‹å‡ ç§å€¼ï¼Œè¿™äº›å€¼å°±æ„æˆäº†ç™½åå•ï¼š")])])]),t._v(" "),s("p",[t._v("ä¸»æœºåï¼šexample.orgï¼Œhttps://example.com:443\nè·¯å¾„åï¼šexample.org/resources/js/\né€šé…ç¬¦ï¼š"),s("em",[t._v(".example.orgï¼Œ")]),t._v("ğŸ˜•/"),s("em",[t._v(".example.com:")]),t._v("ï¼ˆè¡¨ç¤ºä»»æ„åè®®ã€ä»»æ„å­åŸŸåã€ä»»æ„ç«¯å£ï¼‰\nåè®®åï¼šhttps:ã€data:\nå…³é”®å­—'self'ï¼šå½“å‰åŸŸåï¼Œéœ€è¦åŠ å¼•å·\nå…³é”®å­—'none'ï¼šç¦æ­¢åŠ è½½ä»»ä½•å¤–éƒ¨èµ„æºï¼Œéœ€è¦åŠ å¼•å·")]),t._v(" "),s("ul",[s("li",[t._v("å¤šä¸ªå€¼ä¹Ÿå¯ä»¥å¹¶åˆ—ï¼Œç”¨ç©ºæ ¼åˆ†éš”")])]),t._v(" "),s("p",[t._v("Content-Security-Policy: script-src 'self' https://apis.google.com")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœåŒä¸€ä¸ªé™åˆ¶é€‰é¡¹ä½¿ç”¨å¤šæ¬¡ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ä¼šç”Ÿæ•ˆ")])]),t._v(" "),s("p",[t._v("é”™è¯¯çš„å†™æ³•\nscript-src https://host1.com; script-src https://host2.com")]),t._v(" "),s("p",[t._v("æ­£ç¡®çš„å†™æ³•\nscript-src https://host1.com https://host2.com")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å¦‚æœä¸è®¾ç½®æŸä¸ªé™åˆ¶é€‰é¡¹ï¼Œå°±æ˜¯é»˜è®¤å…è®¸ä»»ä½•å€¼")])]),t._v(" "),s("li",[s("p",[t._v("6ã€script-src çš„ç‰¹æ®Šå€¼")])]),t._v(" "),s("li",[s("p",[t._v("é™¤äº†å¸¸è§„å€¼ï¼Œscript-srcè¿˜å¯ä»¥è®¾ç½®ä¸€äº›ç‰¹æ®Šå€¼ã€‚æ³¨æ„ï¼Œä¸‹é¢è¿™äº›å€¼éƒ½å¿…é¡»æ”¾åœ¨å•å¼•å·é‡Œé¢ã€‚")])])]),t._v(" "),s("p",[t._v("'unsafe-inline'ï¼šå…è®¸æ‰§è¡Œé¡µé¢å†…åµŒçš„<script>æ ‡ç­¾å’Œäº‹ä»¶ç›‘å¬å‡½æ•°\nunsafe-evalï¼šå…è®¸å°†å­—ç¬¦ä¸²å½“ä½œä»£ç æ‰§è¡Œï¼Œæ¯”å¦‚ä½¿ç”¨evalã€setTimeoutã€setIntervalå’ŒFunctionç­‰å‡½æ•°ã€‚\nnonceå€¼ï¼šæ¯æ¬¡HTTPå›åº”ç»™å‡ºä¸€ä¸ªæˆæƒtokenï¼Œé¡µé¢å†…åµŒè„šæœ¬å¿…é¡»æœ‰è¿™ä¸ªtokenï¼Œæ‰ä¼šæ‰§è¡Œ\nhashå€¼ï¼šåˆ—å‡ºå…è®¸æ‰§è¡Œçš„è„šæœ¬ä»£ç çš„Hashå€¼ï¼Œé¡µé¢å†…åµŒè„šæœ¬çš„å“ˆå¸Œå€¼åªæœ‰å»åˆçš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½æ‰§è¡Œã€‚")]),t._v(" "),s("ul",[s("li",[t._v("nonceå€¼çš„ä¾‹å­å¦‚ä¸‹ï¼ŒæœåŠ¡å™¨å‘é€ç½‘é¡µçš„æ—¶å€™ï¼Œå‘Šè¯‰æµè§ˆå™¨ä¸€ä¸ªéšæœºç”Ÿæˆçš„tokenï¼Œé¡µé¢å†…åµŒè„šæœ¬ï¼Œå¿…é¡»æœ‰è¿™ä¸ªtokenæ‰èƒ½æ‰§è¡Œ")])]),t._v(" "),s("p",[t._v("Content-Security-Policy: script-src 'nonce-EDNnf03nceIOfn39fn3e9h3sdfa'")]),t._v(" "),s("ul",[s("li",[t._v("hashå€¼çš„ä¾‹å­å¦‚ä¸‹ï¼ŒæœåŠ¡å™¨ç»™å‡ºä¸€ä¸ªå…è®¸æ‰§è¡Œçš„ä»£ç çš„hashå€¼ï¼Œä¸‹é¢çš„ä»£ç å°±ä¼šå…è®¸æ‰§è¡Œï¼Œå› ä¸ºhashå€¼ç›¸ç¬¦,æ³¨æ„ï¼Œè®¡ç®—hashå€¼çš„æ—¶å€™ï¼Œscriptæ ‡ç­¾ä¸ç®—åœ¨å†…ã€‚é™¤äº†script-srcé€‰é¡¹ï¼Œnonceå€¼å’Œhashå€¼è¿˜å¯ä»¥ç”¨åœ¨style-srcé€‰é¡¹ï¼Œæ§åˆ¶é¡µé¢å†…åµŒçš„æ ·å¼è¡¨ã€‚")])]),t._v(" "),s("p",[t._v("Content-Security-Policy: script-src 'sha256-qznLcsROx4GACP2dm0UCKCzCG-HiZ1guq6ZZDob_Tng='\n"),s("code",[t._v("<script>alert('Hello, world.');<\/script>")])]),t._v(" "),s("ul",[s("li",[t._v("7ã€æ³¨æ„ç‚¹")])]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰script-srcå’Œobject-srcæ˜¯å¿…è®¾çš„ï¼Œé™¤éè®¾ç½®äº†default-srcã€‚")]),t._v(" "),s("p",[t._v("å› ä¸ºæ”»å‡»è€…åªè¦èƒ½æ³¨å…¥è„šæœ¬ï¼Œå…¶ä»–é™åˆ¶éƒ½å¯ä»¥è§„é¿ã€‚è€Œobject-srcå¿…è®¾æ˜¯å› ä¸º Flash é‡Œé¢å¯ä»¥æ‰§è¡Œå¤–éƒ¨è„šæœ¬ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰script-srcä¸èƒ½ä½¿ç”¨unsafe-inlineå…³é”®å­—ï¼ˆé™¤éä¼´éšä¸€ä¸ªnonceå€¼ï¼‰ï¼Œä¹Ÿä¸èƒ½å…è®¸è®¾ç½®data:URLã€‚")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ä¸‹é¢æ˜¯ä¸¤ä¸ªæ¶æ„æ”»å‡»çš„ä¾‹å­ã€‚ --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onerror")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data:text/javascript,evil()"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("ï¼ˆ3ï¼‰å¿…é¡»ç‰¹åˆ«æ³¨æ„ JSONP çš„å›è°ƒå‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»£ç ä¸­ï¼Œè™½ç„¶åŠ è½½çš„è„šæœ¬æ¥è‡ªå½“å‰åŸŸåï¼Œä½†æ˜¯é€šè¿‡æ”¹å†™å›è°ƒå‡½æ•°ï¼Œæ”»å‡»è€…ä¾ç„¶å¯ä»¥æ‰§è¡Œæ¶æ„ä»£ç ã€‚")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/jsonp?callback=alert(document.domain)//"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/csp.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Content Security Policy å…¥é—¨æ•™ç¨‹"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.alloyteam.com/2021/01/sri/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æé«˜èµ„æºçš„å®‰å…¨æ€§ â€“ SRI ä¸ CSP"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("å‚è€ƒï¼š")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000037657222",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‰ç«¯å®‰å…¨ç¼–ç è§„èŒƒ"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=r.exports}}]);