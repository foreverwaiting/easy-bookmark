<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络 | easy bookmark</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/easy-bookmark/favicon.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?d517a1ee1e75b0fd216b5183a8f32ac0";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();      
      </script>
    <meta name="description" content="个人收藏">
    
    <link rel="preload" href="/easy-bookmark/assets/css/0.styles.9b6bb25f.css" as="style"><link rel="preload" href="/easy-bookmark/assets/js/app.98929521.js" as="script"><link rel="preload" href="/easy-bookmark/assets/js/2.6ed84ef8.js" as="script"><link rel="preload" href="/easy-bookmark/assets/js/42.cf495ac2.js" as="script"><link rel="prefetch" href="/easy-bookmark/assets/js/10.59e2f598.js"><link rel="prefetch" href="/easy-bookmark/assets/js/11.9fc8a230.js"><link rel="prefetch" href="/easy-bookmark/assets/js/12.089b352b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/13.e2ac9449.js"><link rel="prefetch" href="/easy-bookmark/assets/js/14.a988d92c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/15.ae6ad2bb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/16.416459c2.js"><link rel="prefetch" href="/easy-bookmark/assets/js/17.3aa5cbce.js"><link rel="prefetch" href="/easy-bookmark/assets/js/18.b724b90f.js"><link rel="prefetch" href="/easy-bookmark/assets/js/19.cb360c51.js"><link rel="prefetch" href="/easy-bookmark/assets/js/20.469dd230.js"><link rel="prefetch" href="/easy-bookmark/assets/js/21.62b9147c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/22.dabef7dd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/23.ffa9fcfd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/24.a4781c35.js"><link rel="prefetch" href="/easy-bookmark/assets/js/25.79ef71a6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/26.331c4dc5.js"><link rel="prefetch" href="/easy-bookmark/assets/js/27.5b1f1b94.js"><link rel="prefetch" href="/easy-bookmark/assets/js/28.37dd571e.js"><link rel="prefetch" href="/easy-bookmark/assets/js/29.580f58e7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/3.24a9cbfa.js"><link rel="prefetch" href="/easy-bookmark/assets/js/30.0630daa0.js"><link rel="prefetch" href="/easy-bookmark/assets/js/31.172b9e48.js"><link rel="prefetch" href="/easy-bookmark/assets/js/32.3c9adea6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/33.5595eb88.js"><link rel="prefetch" href="/easy-bookmark/assets/js/34.931e4ffe.js"><link rel="prefetch" href="/easy-bookmark/assets/js/35.c06f071e.js"><link rel="prefetch" href="/easy-bookmark/assets/js/36.bc28c146.js"><link rel="prefetch" href="/easy-bookmark/assets/js/37.50b96313.js"><link rel="prefetch" href="/easy-bookmark/assets/js/38.61fdc3da.js"><link rel="prefetch" href="/easy-bookmark/assets/js/39.8e94008c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/4.5591ca6b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/40.b9dd3fe7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/41.44f4e080.js"><link rel="prefetch" href="/easy-bookmark/assets/js/43.96432862.js"><link rel="prefetch" href="/easy-bookmark/assets/js/44.28acc21b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/45.10534c91.js"><link rel="prefetch" href="/easy-bookmark/assets/js/46.6d79e8a6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/47.a7759570.js"><link rel="prefetch" href="/easy-bookmark/assets/js/48.bc0667ab.js"><link rel="prefetch" href="/easy-bookmark/assets/js/49.c1ebffce.js"><link rel="prefetch" href="/easy-bookmark/assets/js/5.3de96ffc.js"><link rel="prefetch" href="/easy-bookmark/assets/js/50.a0f50760.js"><link rel="prefetch" href="/easy-bookmark/assets/js/51.52913321.js"><link rel="prefetch" href="/easy-bookmark/assets/js/52.b2c32e3a.js"><link rel="prefetch" href="/easy-bookmark/assets/js/53.cd133ce2.js"><link rel="prefetch" href="/easy-bookmark/assets/js/54.5becf481.js"><link rel="prefetch" href="/easy-bookmark/assets/js/55.3ec180c8.js"><link rel="prefetch" href="/easy-bookmark/assets/js/56.24bf3181.js"><link rel="prefetch" href="/easy-bookmark/assets/js/57.5edd1dc7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/58.697b6057.js"><link rel="prefetch" href="/easy-bookmark/assets/js/59.c422bbd3.js"><link rel="prefetch" href="/easy-bookmark/assets/js/6.010a5dd5.js"><link rel="prefetch" href="/easy-bookmark/assets/js/60.b44a3b13.js"><link rel="prefetch" href="/easy-bookmark/assets/js/61.36d0c1bd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/62.e4917905.js"><link rel="prefetch" href="/easy-bookmark/assets/js/63.690191bf.js"><link rel="prefetch" href="/easy-bookmark/assets/js/64.e6e01d48.js"><link rel="prefetch" href="/easy-bookmark/assets/js/65.13387ea7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/66.37c48ee9.js"><link rel="prefetch" href="/easy-bookmark/assets/js/67.fa7e4f5a.js"><link rel="prefetch" href="/easy-bookmark/assets/js/68.eb40d0ee.js"><link rel="prefetch" href="/easy-bookmark/assets/js/69.584d43ea.js"><link rel="prefetch" href="/easy-bookmark/assets/js/7.48552666.js"><link rel="prefetch" href="/easy-bookmark/assets/js/70.3abc29fb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/71.e149adad.js"><link rel="prefetch" href="/easy-bookmark/assets/js/72.b73ecb17.js"><link rel="prefetch" href="/easy-bookmark/assets/js/73.9307c017.js"><link rel="prefetch" href="/easy-bookmark/assets/js/74.c1502fb4.js"><link rel="prefetch" href="/easy-bookmark/assets/js/75.69f4626b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/76.c25802cb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/77.a37efc00.js"><link rel="prefetch" href="/easy-bookmark/assets/js/8.a079a873.js"><link rel="prefetch" href="/easy-bookmark/assets/js/9.e1d2376d.js">
    <link rel="stylesheet" href="/easy-bookmark/assets/css/0.styles.9b6bb25f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/easy-bookmark/" class="home-link router-link-active"><img src="/easy-bookmark/logo.jpg" alt="easy bookmark" class="logo"> <span class="site-name can-hide">easy bookmark</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/easy-bookmark/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/easy-bookmark/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/easy-bookmark/website/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/easy-bookmark/daily/" class="nav-link">
  日常
</a></div><div class="nav-item"><a href="/easy-bookmark/front/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/easy-bookmark/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://foreverwaiting.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/foreverwaiting/easy-bookmark" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/easy-bookmark/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/easy-bookmark/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/easy-bookmark/website/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/easy-bookmark/daily/" class="nav-link">
  日常
</a></div><div class="nav-item"><a href="/easy-bookmark/front/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/easy-bookmark/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://foreverwaiting.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/foreverwaiting/easy-bookmark" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/easy-bookmark/front/" aria-current="page" class="sidebar-link">前端知识分享</a></li><li><a href="/easy-bookmark/front/ast.html" class="sidebar-link">ast抽象语法树</a></li><li><a href="/easy-bookmark/front/backend.html" class="sidebar-link">back end</a></li><li><a href="/easy-bookmark/front/bom.html" class="sidebar-link">BOM</a></li><li><a href="/easy-bookmark/front/browser.html" class="sidebar-link">浏览器相关</a></li><li><a href="/easy-bookmark/front/charts.html" class="sidebar-link">可视化</a></li><li><a href="/easy-bookmark/front/codeESLint.html" class="sidebar-link">代码规范</a></li><li><a href="/easy-bookmark/front/computerBook.html" class="sidebar-link">计算机 📚</a></li><li><a href="/easy-bookmark/front/computerNetwork.html" aria-current="page" class="active sidebar-link">计算机网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#计算机基础" class="sidebar-link">计算机基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#互联网协议-一" class="sidebar-link">互联网协议（一）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#实体层" class="sidebar-link">实体层</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#链接层-mac地址" class="sidebar-link">链接层（MAC地址）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#网络层-ip地址" class="sidebar-link">网络层（IP地址）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#传输层-端口" class="sidebar-link">传输层（端口）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#应用层-http、ftp、imap" class="sidebar-link">应用层（HTTP、FTP、IMAP）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#最终以太网的数据包" class="sidebar-link">最终以太网的数据包</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#互联网协议-二" class="sidebar-link">互联网协议（二）</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#用户的上网设置-本机的ip地址、子网掩码、网关的ip地址、dns的ip地址" class="sidebar-link">用户的上网设置：本机的IP地址、子网掩码、网关的IP地址、DNS的IP地址</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#ipv4与ipv6" class="sidebar-link">IPV4与IPV6</a></li></ul></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#专有名词" class="sidebar-link">专有名词</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#交换机" class="sidebar-link">交换机</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#局域网" class="sidebar-link">局域网</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#广域网" class="sidebar-link">广域网</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#isp" class="sidebar-link">ISP</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#nsp" class="sidebar-link">NSP</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#tcp-vs-udp" class="sidebar-link">TCP VS UDP</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/computerNetwork.html#dns-解析" class="sidebar-link">DNS 解析</a></li></ul></li></ul></li><li><a href="/easy-bookmark/front/cssLessScss.html" class="sidebar-link">CSS</a></li><li><a href="/easy-bookmark/front/dataMock.html" class="sidebar-link">Mock Data</a></li><li><a href="/easy-bookmark/front/dataStructureAndAlgorithm.html" class="sidebar-link">数据结构与算法</a></li><li><a href="/easy-bookmark/front/dom.html" class="sidebar-link">DOM</a></li><li><a href="/easy-bookmark/front/es6.html" class="sidebar-link">es6</a></li><li><a href="/easy-bookmark/front/frontendSecurity.html" class="sidebar-link">前端安全</a></li><li><a href="/easy-bookmark/front/futureDevelopment.html" class="sidebar-link">前端社区发展，新技术</a></li><li><a href="/easy-bookmark/front/gitNpm.html" class="sidebar-link">版本控制等</a></li><li><a href="/easy-bookmark/front/h5css3.html" class="sidebar-link">HTML（5）CSS（3）基础</a></li><li><a href="/easy-bookmark/front/http.html" class="sidebar-link">http请求</a></li><li><a href="/easy-bookmark/front/javascriptTypescript.html" class="sidebar-link">js 和 ts</a></li><li><a href="/easy-bookmark/front/libraryFrame.html" class="sidebar-link">流行的库和框架</a></li><li><a href="/easy-bookmark/front/miniapp.html" class="sidebar-link">小程序</a></li><li><a href="/easy-bookmark/front/module.html" class="sidebar-link">模块化开发与构建工具</a></li><li><a href="/easy-bookmark/front/networkCommunication.html" class="sidebar-link">网络通信</a></li><li><a href="/easy-bookmark/front/performanceOptimization.html" class="sidebar-link">性能优化</a></li><li><a href="/easy-bookmark/front/programming.html" class="sidebar-link">编程思想</a></li><li><a href="/easy-bookmark/front/regularExpression.html" class="sidebar-link">正则</a></li><li><a href="/easy-bookmark/front/softwareApi.html" class="sidebar-link">软件架构</a></li><li><a href="/easy-bookmark/front/ssr.html" class="sidebar-link">SSR</a></li><li><a href="/easy-bookmark/front/unitTest.html" class="sidebar-link">单元测试</a></li><li><a href="/easy-bookmark/front/utils.html" class="sidebar-link">工具库</a></li><li><a href="/easy-bookmark/front/v8.html" class="sidebar-link">v8 Chrome</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="计算机网络"><a href="#计算机网络" class="header-anchor">#</a> 计算机网络</h1> <h2 id="计算机基础"><a href="#计算机基础" class="header-anchor">#</a> 计算机基础</h2> <h3 id="互联网协议-一"><a href="#互联网协议-一" class="header-anchor">#</a> 互联网协议（一）</h3> <p>五层模型：&quot;应用层&quot;（Application Layer）、&quot;传输层&quot;（Transport Layer）、&quot;网络层&quot;（Network Layer）、&quot;链接层&quot;（Link Layer）、&quot;实体层&quot;（Physical Layer）、</p> <p>层与协议：每一层都是为了完成一种功能。为了实现这些功能，就需要大家都遵守共同的规则。大家都遵守的规则，就叫做&quot;协议&quot;（protocol）。</p> <p>互联网协议：互联网的每一层，都定义了很多协议。这些协议的总称，就叫做&quot;互联网协议&quot;（Internet Protocol Suite）。</p> <h3 id="实体层"><a href="#实体层" class="header-anchor">#</a> 实体层</h3> <p>电脑组网：光缆、电缆、双绞线、无线电波等方式把电脑连接起来的物理手段，主要规定了网络的一些电气特性，作用是负责传送0和1的电信号。</p> <h3 id="链接层-mac地址"><a href="#链接层-mac地址" class="header-anchor">#</a> 链接层（MAC地址）</h3> <p>定义：单纯的0和1没有任何意义，必须规定解读方式：多少个电信号算一组？每个信号位有何意义？链接层确定了0和1的分组方式。</p> <p>以太网协议：其电信号分组方式占据了主导地位，并规定，一组电信号构成一个数据包，叫做&quot;帧&quot;（Frame）。每一帧分成两个部分：标头【说明项、发送者、接受者、数据类型等等】（Head）和数据【具体内容】（Data）。</p> <p>标头：固定为18字节</p> <p>数据：最短为46字节，最长为1500字节</p> <p>整个帧：最短为64字节，最长为1518字节。如果数据很长，就必须分割成多个帧进行发送。</p> <p>MAC地址：网卡的地址，就是数据包的发送地址和接收地址，这叫做MAC地址。【每块网卡出厂的时候，都有一个全世界独一无二的MAC地址，长度是48个二进制位，通常用12个十六进制数表示。前6个十六进制数是厂商编号，后6个是该厂商的网卡流水号。】</p> <div class="custom-block tip"><p class="custom-block-title">ARP （地址解析协议）</p> <p>使用地址解析协议，可根据网络层IP数据包包头中的IP地址信息解析出目标硬件地址（MAC地址）信息，以保证通信的顺利进行。【得到同一个子网络内的主机MAC地址，如果两台主机不在同一个子网络，那么事实上没有办法得到对方的MAC地址，只能把数据包传送到两个子网络连接处的&quot;网关&quot;（gateway），让网关去处理。】</p></div> <p>广播：向本网络内所有计算机发送，让每台计算机自己判断，是否为接收方。计算机找到接收方的MAC地址，然后与自身的MAC地址相比较，如果两者相同，就接受这个包，做进一步处理，否则就丢弃这个包。这种发送方式就叫做&quot;广播&quot;（broadcasting）。</p> <p>结果：有了数据包的定义、网卡的MAC地址、广播的发送方式，&quot;链接层&quot;就可以在多台计算机之间传送数据了。</p> <div class="custom-block tip"><p class="custom-block-title">以太网数据包</p> <p>【标头（MAC地址）】+【数据（数据内容）】</p></div> <h3 id="网络层-ip地址"><a href="#网络层-ip地址" class="header-anchor">#</a> 网络层（IP地址）</h3> <p>作用：引进一套新的地址，使得我们能够区分不同的计算机是否属于同一个子网络。这套地址就叫做&quot;网络地址&quot;，简称&quot;网址&quot;。</p> <p>IP协议：规定网络地址的协议，叫做IP协议。它所定义的地址，就被称为IP地址。习惯上分成四段的十进制数表示IP地址，从0.0.0.0一直到255.255.255.255。每个计算久都会被分配一个IP地址，前一部分代表网络，后一部分代表主机，处于同一个子网络的电脑，它们IP地址的网络部分必定是相同的</p> <div class="custom-block tip"><p class="custom-block-title">IP协议</p> <p>IPv4由32个二进制位组成，最大地址个数为2^32、IPv6由128个二进制位组成，最大地址个数为2^128。</p></div> <p>子网掩码：才能从IP地址，判断两台计算机是否属于同一个子网络。它在形式上等同于IP地址，也是一个32位二进制数字，它的网络部分全部为1，主机部分全部为0。
知道&quot;子网掩码&quot;，我们就能判断，任意两个IP地址是否处在同一个子网络。方法是将两个IP地址与子网掩码分别进行AND运算（两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。</p> <p>IP协议作用：一个是为每一台计算机分配IP地址，另一个是确定哪些地址在同一个子网络。</p> <p>IP数据包：把IP数据包直接放进以太网数据包的&quot;数据&quot;部分，完全不用修改以太网的规格。这就是互联网分层结构的好处：上层的变动完全不涉及下层的结构。IP数据包也分为&quot;标头&quot;和&quot;数据&quot;两个部分。
&quot;标头&quot;：包括版本、长度、IP地址等信息（长度为20到60字节）
&quot;数据&quot;：IP数据包的具体内容（最长65,515）
整个数据包：最大为65,535字节
⚠️：以太网数据包的&quot;数据&quot;部分，最长只有1500字节。因此，如果IP数据包超过了1500字节，它就需要分割成几个以太网数据包，分开发送了。</p> <div class="custom-block tip"><p class="custom-block-title">IP数据包</p> <p>【标头（IP地址）】+【数据（数据内容）】</p></div> <div class="custom-block tip"><p class="custom-block-title">则：放入IP数据包之后的【以太网数据包】</p> <p>【标头（MAC地址）】+【【标头（IP地址）】+【数据（数据内容）】】</p></div> <h3 id="传输层-端口"><a href="#传输层-端口" class="header-anchor">#</a> 传输层（端口）</h3> <p>端口：有了MAC地址和IP地址，我们已经可以在互联网上任意两台主机上建立通信。但还需要一个参数，表示这个数据包到底供哪个程序（进程）使用。这个参数就叫做&quot;端口&quot;（port），它其实是每一个使用网卡的程序的编号。每个数据包都发到主机的特定端口，所以不同的程序就能取到自己所需要的数据。</p> <p>作用：&quot;传输层&quot;的功能，就是建立&quot;端口到端口&quot;的通信。相比之下，&quot;网络层&quot;的功能是建立&quot;主机到主机&quot;的通信。只要确定主机和端口，我们就能实现程序之间的交流。（因此，Unix系统就把主机+端口，叫做&quot;套接字&quot;（socket）。有了它，就可以进行网络应用程序开发了。）</p> <div class="custom-block tip"><p class="custom-block-title">端口</p> <p>&quot;端口&quot;是0到65535之间的一个整数，正好16个二进制位。0到1023的端口被系统占用，用户只能选用大于1023的端口。不管是浏览网页还是在线聊天，应用程序会随机选用一个端口，然后与服务器的相应端口联系。</p></div> <p>UDP协议：用于在数据包中加入端口信息。由&quot;标头&quot;和&quot;数据&quot;两部分组成。放入IP数据包的数据部分。【UDP协议的优点是比较简单，容易实现，但是缺点是可靠性较差，一旦数据包发出，无法知道对方是否收到。】</p> <p>TCP协议：有确认机制的UDP协议，每发出一个数据包都要求确认。如果有一个数据包遗失，就收不到确认，发出方就知道有必要重发这个数据包了。其确保数据不会遗失。它的缺点是过程复杂、实现困难、消耗较多的资源。</p> <p>⚠️：UDP数据包非常简单，&quot;标头&quot;部分一共只有8个字节，总长度不超过65,535字节，正好放进一个IP数据包。TCP数据包和UDP数据包一样，都是内嵌在IP数据包的&quot;数据&quot;部分。TCP数据包没有长度限制，理论上可以无限长，但是为了保证网络的效率，通常TCP数据包的长度不会超过IP数据包的长度，以确保单个TCP数据包不必再分割。</p> <div class="custom-block tip"><p class="custom-block-title">UDP数据包</p> <p>【标头（发出端口和接收端口）】+【数据（数据内容）】</p></div> <div class="custom-block tip"><p class="custom-block-title">则：放入UDP数据包之后的【以太网数据包】</p> <p>【标头（MAC地址）】+【【标头（IP地址）】+【【标头（发出端口和接收端口）】+【数据（数据内容）】】】</p></div> <h3 id="应用层-http、ftp、imap"><a href="#应用层-http、ftp、imap" class="header-anchor">#</a> 应用层（HTTP、FTP、IMAP）</h3> <p>作用：规定应用程序的数据格式。互联网数据来源五花八门，必须事先规定好格式，否则根本无法解读。TCP协议可以为各种各样的程序传递数据，比如Email、WWW、FTP等等。那么，必须有不同协议规定电子邮件、网页、FTP数据的格式，这些应用程序协议就构成了&quot;应用层&quot;。</p> <h3 id="最终以太网的数据包"><a href="#最终以太网的数据包" class="header-anchor">#</a> 最终以太网的数据包</h3> <p>【head】 【head】 【head】【Data】
&lt;-----&gt; &lt;-----&gt; &lt;-----&gt; &lt;-----&gt;
以太网    IP      TCP    应用层
标头      标头    标头    数据包</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>1、网络通信就是交换数据包。数据包如上所示。
2、发包需要知道对方：MAC地址、IP地址。
3、但MAC地址有局限性，如果两台电脑不在同一个子网络，就无法知道对方的MAC地址，必须通过网关（gateway）转发。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>同一个子网络<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数据包地址[对方的MAC地址，对方的IP地址]</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>非同一个子网络<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数据包地址[网关的MAC地址，对方的IP地址]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="互联网协议-二"><a href="#互联网协议-二" class="header-anchor">#</a> 互联网协议（二）</h3> <h3 id="用户的上网设置-本机的ip地址、子网掩码、网关的ip地址、dns的ip地址"><a href="#用户的上网设置-本机的ip地址、子网掩码、网关的ip地址、dns的ip地址" class="header-anchor">#</a> 用户的上网设置：本机的IP地址、子网掩码、网关的IP地址、DNS的IP地址</h3> <p>&quot;静态IP地址上网&quot;：给定的，计算机每次开机，都会分到同样的IP地址</p> <p>&quot;动态IP地址上网&quot;：开机后，会自动分配到一个IP地址，不用人为设定。它使用的协议叫做DHCP协议。</p> <p>DHCP协议：协议规定，每一个子网络中，有一台计算机负责管理本网络的所有IP地址，它叫做&quot;DHCP服务器&quot;。新的计算机加入网络，必须向&quot;DHCP服务器&quot;发送一个&quot;DHCP请求&quot;数据包，申请IP地址和相关的网络参数。</p> <p>两台计算机在同一个子网络，必须知道对方的MAC地址和IP地址，才能发送数据包。但是，新加入的计算机不知道这两个地址，怎么发送数据包呢？
如下：
【head】 【head】 【head】【Data】
&lt;-----&gt; &lt;-----&gt; &lt;-----&gt; &lt;-----&gt;
以太网    IP      UDP    应用层
标头      标头    标头    数据包</p> <p>此时：
以太网标头：本机MAC地址 + DHCP服务器MAC地址（不知道使用广播地址：FF-FF-FF-FF-FF-FF）
IP标头：本机IP地址（不知道使用：0.0.0.0） + DHCP服务器IP地址（不知道使用：255.255.255.255）
UDP标头：发出方端口（不知道使用：68端口） + 接收方端口（不知道使用：67端口）</p> <p>DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个&quot;DHCP响应&quot;数据包。新加入的计算机收到这个响应包，于是就知道了自己的IP地址、子网掩码、网关地址、DNS服务器等等参数。</p> <p>上网：输入网址，DNS协议（将网址转换成IP地址），访问，子网掩码（判断这个IP地址是不是在同一个子网络），不是则，通过网关转发。</p> <div class="custom-block tip"><p class="custom-block-title">DHCP协议。</p> <p>用于内部网络或网络服务供应商自动分配IP地址给用户
用于内部网络管理员对所有电脑做中央管理</p></div> <h3 id="ipv4与ipv6"><a href="#ipv4与ipv6" class="header-anchor">#</a> IPV4与IPV6</h3> <p>IPv4，长度为 32 位【所以共有2的32次方个地址】【32位2进制数字组成】（32位0或1组成的一串数字）（4 个字节），每8位数转成十进制的三位数，变成常用的4个0-255数字，即：10101010 22222222 33333333 88888888 == 192.168.001.002</p> <p>IPv4 使用 ARP 来查找与 IPv4 地址相关联的物理地址（如 MAC 或链路地址）</p> <p>IPv6，长度为 128 位【所以共有2的128次方个地址】（128位0或1组成的一串数字）（16 个字节），由8组4位16进制组合成，</p> <p>NAT网络地址转换（由网关对ip地址的映射）+ 端口映射  ，让ipv4苟延残喘到现在。
公网IP（网关的IP）、私有IP（该网关下的电脑IP）</p> <h2 id="专有名词"><a href="#专有名词" class="header-anchor">#</a> 专有名词</h2> <h3 id="交换机"><a href="#交换机" class="header-anchor">#</a> 交换机</h3> <p>一种用于电（光）信号转发的网络设备。它可以为接入交换机的任意两个网络节点提供独享的电信号通路。最常见的交换机是以太网交换机。
广域网交换机和局域网交换机：广域网交换机主要应用于电信领域，提供通信用的基础平台。而局域网交换机则应用于局域网络，用于连接终端设备，如PC机及网络打印机等。</p> <h3 id="局域网"><a href="#局域网" class="header-anchor">#</a> 局域网</h3> <p>局部地区形成的一个区域网络，其特点就是分布地区范围有限，可大可小，大到一栋建筑楼 与相邻建筑之间的连接，小到可以是办公室之间的联系。
局域网组成：计算机设备、网络连接设备、网络传输介质
计算机设备又包括服务器与工作站，网络连接设备则包含了网卡、集线器、交换机，网络传输介质简单来说就是网线，由同轴电缆、双绞线及光缆3大原件构成。</p> <h3 id="广域网"><a href="#广域网" class="header-anchor">#</a> 广域网</h3> <p>又称广域网、外网、公网。是连接不同地区局域网或城域网计算机通信的远程网。</p> <h3 id="isp"><a href="#isp" class="header-anchor">#</a> ISP</h3> <p>互联网服务提供商（Internet Service Provider）</p> <h3 id="nsp"><a href="#nsp" class="header-anchor">#</a> NSP</h3> <p>网络服务提供商（NSP，network service provider）</p> <p>待补充：</p> <h3 id="tcp-vs-udp"><a href="#tcp-vs-udp" class="header-anchor">#</a> TCP VS UDP</h3> <p>TCP UDP 两者的区别是什么，各自的应用场景</p> <p>UDP 场景：</p> <ol><li>实时音视频是可以而且应该用 UDP 的，一方面因为它常常涉及到网络穿透，另外一方面它不需要重传。——我需要实时的看到你的图像跟声音，至于中间丢一帧什么的完全不重要。而为了重传往往会造成延迟与不同步，考虑一下，某一帧因为重传，导致 0.5 秒以后才到，那么整个音视频就延迟了 0.5 秒。考虑一下接收方看视频，如果使用 TCP 导致视频的中间延迟了 0.5 秒，只要我不按「快进」键，那么后续的视频全都会比发送方延迟 0.5 秒。这种延迟是累加的，随着持续丢帧，延迟会越来越大，达到数秒，甚至分钟级，这会严重影响实时音视频的用户体验。因此「实时音视频聊天」功能通常都会使用 UDP 实现。</li> <li>网络真的非常非常可靠，以至于你完全不需要考虑 UDP 丢包问题的情况。典型的例子应该是专门为有线局域网设计的协议。</li> <li>另外一个问题是 TCP 是纯粹的流式数据，所以制定传输协议的时候，接受方需要自行判定一个包的开始和结束，因为你完全可能接受到半个包或者两个包。——如果数据报的起止判定对你具体的程序会成为大问题，也可以考虑 UDP。</li></ol> <p><strong>采用 UDP 有 3 个关键点：</strong></p> <ul><li>网络带宽需求较小，而实时性要求高</li> <li>大部分应用无需维持连接</li> <li>需要低功耗</li></ul> <h3 id="dns-解析"><a href="#dns-解析" class="header-anchor">#</a> DNS 解析</h3> <p>首先拿到 URL 后，浏览器会寻找本地的 DNS 缓存，看看是否有对应的 IP 地址，如果缓存中存在那就好了，如果没有，那就得向 DNS Server 发送一个请求，找到你想要的 IP 地址。
首先他会向你的 ISP(互联网服务提供商) 相关的 DNS servers 发送 DNS query。然后这些 DNS 进行递归查询(recursive)。所谓的递归查询，就是能够直接返回对应的IP地址，而不是其他的 DNS server 地址。
如果上述的 DNS Servers 没有你要的域名地址，则就会发送迭代查询，即会先从 root nameservers 找起。 即是假如你要查询 www.example.com ，会先从包含根结点的 13 台最高级域名服务器开始。
接着，以从右向左的方式递进，找到 com.  然后向包含 com 的 TLD(顶级域名) nameservers 发送 DNS 请求。接着找到包含 example 的 DNS server。
现在进入到了example.com 部分，即是现在正在询问的是权威服务器，该服务器里面包含了你想要的域名信息，也就是拿到了最后的结果 record 。
递归查询的 DNS Server 接受到这 record 之后, 会将该record 保存一份到本地。 如果下一次你再请求这个 domain 时，我就可以直接返回给你了。由于每条记录都会存在 TLL ，所以 server 每隔一段时间都会发送一次请求，获取新的 record，
最后，再经由最近的 DNS Server 将该条 record 返回。 同样，你的设备也会存一份该 record 的副本。 之后，就是 TCP 的事了，下面是一张萌萌的简化图：
到这里，我们大致就可以梳理一下，迭代查询的过程如下：</p> <p>流程: . =&gt; com. =&gt; .exampl.com. =&gt; www.example.com. =&gt; IP adress</p> <ul><li><p><a href="https://www.bilibili.com/video/BV1Rz4y197Jd" target="_blank" rel="noopener noreferrer">互联网运作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.ruanyifeng.com/blog/2012/05" target="_blank" rel="noopener noreferrer">阮一峰互联网协议入门<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.bilibili.com/video/BV1DD4y127r4" target="_blank" rel="noopener noreferrer">IPV6和IPV4、公网IP和私有IP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://mp.weixin.qq.com/s/4gY0k9U1qmvbAAEjo3_GsQ" target="_blank" rel="noopener noreferrer">vlan、三层交换机、网关、DNS、子网掩码、MAC地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://juejin.cn/post/6844903505111547918" target="_blank" rel="noopener noreferrer">或许这样能帮你了解 OSI 七层模型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/foreverwaiting/easy-bookmark/edit/master/docs/front/computerNetwork.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/3/2021, 11:19:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/easy-bookmark/front/computerBook.html" class="prev">
        计算机 📚
      </a></span> <span class="next"><a href="/easy-bookmark/front/cssLessScss.html">
        CSS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/easy-bookmark/assets/js/app.98929521.js" defer></script><script src="/easy-bookmark/assets/js/2.6ed84ef8.js" defer></script><script src="/easy-bookmark/assets/js/42.cf495ac2.js" defer></script>
  </body>
</html>
