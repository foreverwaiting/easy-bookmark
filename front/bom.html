<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | easy bookmark</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/easy-bookmark/favicon.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?d517a1ee1e75b0fd216b5183a8f32ac0";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();      
      </script>
    <meta name="description" content="个人收藏">
    
    <link rel="preload" href="/easy-bookmark/assets/css/0.styles.9b6bb25f.css" as="style"><link rel="preload" href="/easy-bookmark/assets/js/app.98929521.js" as="script"><link rel="preload" href="/easy-bookmark/assets/js/2.6ed84ef8.js" as="script"><link rel="preload" href="/easy-bookmark/assets/js/37.50b96313.js" as="script"><link rel="prefetch" href="/easy-bookmark/assets/js/10.59e2f598.js"><link rel="prefetch" href="/easy-bookmark/assets/js/11.9fc8a230.js"><link rel="prefetch" href="/easy-bookmark/assets/js/12.089b352b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/13.e2ac9449.js"><link rel="prefetch" href="/easy-bookmark/assets/js/14.a988d92c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/15.ae6ad2bb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/16.416459c2.js"><link rel="prefetch" href="/easy-bookmark/assets/js/17.3aa5cbce.js"><link rel="prefetch" href="/easy-bookmark/assets/js/18.b724b90f.js"><link rel="prefetch" href="/easy-bookmark/assets/js/19.cb360c51.js"><link rel="prefetch" href="/easy-bookmark/assets/js/20.469dd230.js"><link rel="prefetch" href="/easy-bookmark/assets/js/21.62b9147c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/22.dabef7dd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/23.ffa9fcfd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/24.a4781c35.js"><link rel="prefetch" href="/easy-bookmark/assets/js/25.79ef71a6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/26.331c4dc5.js"><link rel="prefetch" href="/easy-bookmark/assets/js/27.5b1f1b94.js"><link rel="prefetch" href="/easy-bookmark/assets/js/28.37dd571e.js"><link rel="prefetch" href="/easy-bookmark/assets/js/29.580f58e7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/3.24a9cbfa.js"><link rel="prefetch" href="/easy-bookmark/assets/js/30.0630daa0.js"><link rel="prefetch" href="/easy-bookmark/assets/js/31.172b9e48.js"><link rel="prefetch" href="/easy-bookmark/assets/js/32.3c9adea6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/33.5595eb88.js"><link rel="prefetch" href="/easy-bookmark/assets/js/34.931e4ffe.js"><link rel="prefetch" href="/easy-bookmark/assets/js/35.c06f071e.js"><link rel="prefetch" href="/easy-bookmark/assets/js/36.bc28c146.js"><link rel="prefetch" href="/easy-bookmark/assets/js/38.61fdc3da.js"><link rel="prefetch" href="/easy-bookmark/assets/js/39.8e94008c.js"><link rel="prefetch" href="/easy-bookmark/assets/js/4.5591ca6b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/40.b9dd3fe7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/41.44f4e080.js"><link rel="prefetch" href="/easy-bookmark/assets/js/42.cf495ac2.js"><link rel="prefetch" href="/easy-bookmark/assets/js/43.96432862.js"><link rel="prefetch" href="/easy-bookmark/assets/js/44.28acc21b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/45.10534c91.js"><link rel="prefetch" href="/easy-bookmark/assets/js/46.6d79e8a6.js"><link rel="prefetch" href="/easy-bookmark/assets/js/47.a7759570.js"><link rel="prefetch" href="/easy-bookmark/assets/js/48.bc0667ab.js"><link rel="prefetch" href="/easy-bookmark/assets/js/49.c1ebffce.js"><link rel="prefetch" href="/easy-bookmark/assets/js/5.3de96ffc.js"><link rel="prefetch" href="/easy-bookmark/assets/js/50.a0f50760.js"><link rel="prefetch" href="/easy-bookmark/assets/js/51.52913321.js"><link rel="prefetch" href="/easy-bookmark/assets/js/52.b2c32e3a.js"><link rel="prefetch" href="/easy-bookmark/assets/js/53.cd133ce2.js"><link rel="prefetch" href="/easy-bookmark/assets/js/54.5becf481.js"><link rel="prefetch" href="/easy-bookmark/assets/js/55.3ec180c8.js"><link rel="prefetch" href="/easy-bookmark/assets/js/56.24bf3181.js"><link rel="prefetch" href="/easy-bookmark/assets/js/57.5edd1dc7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/58.697b6057.js"><link rel="prefetch" href="/easy-bookmark/assets/js/59.c422bbd3.js"><link rel="prefetch" href="/easy-bookmark/assets/js/6.010a5dd5.js"><link rel="prefetch" href="/easy-bookmark/assets/js/60.b44a3b13.js"><link rel="prefetch" href="/easy-bookmark/assets/js/61.36d0c1bd.js"><link rel="prefetch" href="/easy-bookmark/assets/js/62.e4917905.js"><link rel="prefetch" href="/easy-bookmark/assets/js/63.690191bf.js"><link rel="prefetch" href="/easy-bookmark/assets/js/64.e6e01d48.js"><link rel="prefetch" href="/easy-bookmark/assets/js/65.13387ea7.js"><link rel="prefetch" href="/easy-bookmark/assets/js/66.37c48ee9.js"><link rel="prefetch" href="/easy-bookmark/assets/js/67.fa7e4f5a.js"><link rel="prefetch" href="/easy-bookmark/assets/js/68.eb40d0ee.js"><link rel="prefetch" href="/easy-bookmark/assets/js/69.584d43ea.js"><link rel="prefetch" href="/easy-bookmark/assets/js/7.48552666.js"><link rel="prefetch" href="/easy-bookmark/assets/js/70.3abc29fb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/71.e149adad.js"><link rel="prefetch" href="/easy-bookmark/assets/js/72.b73ecb17.js"><link rel="prefetch" href="/easy-bookmark/assets/js/73.9307c017.js"><link rel="prefetch" href="/easy-bookmark/assets/js/74.c1502fb4.js"><link rel="prefetch" href="/easy-bookmark/assets/js/75.69f4626b.js"><link rel="prefetch" href="/easy-bookmark/assets/js/76.c25802cb.js"><link rel="prefetch" href="/easy-bookmark/assets/js/77.a37efc00.js"><link rel="prefetch" href="/easy-bookmark/assets/js/8.a079a873.js"><link rel="prefetch" href="/easy-bookmark/assets/js/9.e1d2376d.js">
    <link rel="stylesheet" href="/easy-bookmark/assets/css/0.styles.9b6bb25f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/easy-bookmark/" class="home-link router-link-active"><img src="/easy-bookmark/logo.jpg" alt="easy bookmark" class="logo"> <span class="site-name can-hide">easy bookmark</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/easy-bookmark/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/easy-bookmark/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/easy-bookmark/website/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/easy-bookmark/daily/" class="nav-link">
  日常
</a></div><div class="nav-item"><a href="/easy-bookmark/front/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/easy-bookmark/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://foreverwaiting.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/foreverwaiting/easy-bookmark" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/easy-bookmark/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/easy-bookmark/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/easy-bookmark/website/" class="nav-link">
  网站
</a></div><div class="nav-item"><a href="/easy-bookmark/daily/" class="nav-link">
  日常
</a></div><div class="nav-item"><a href="/easy-bookmark/front/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/easy-bookmark/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="https://foreverwaiting.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/foreverwaiting/easy-bookmark" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/easy-bookmark/front/" aria-current="page" class="sidebar-link">前端知识分享</a></li><li><a href="/easy-bookmark/front/ast.html" class="sidebar-link">ast抽象语法树</a></li><li><a href="/easy-bookmark/front/backend.html" class="sidebar-link">back end</a></li><li><a href="/easy-bookmark/front/bom.html" aria-current="page" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#window" class="sidebar-link">window</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#window对象" class="sidebar-link">window对象</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#窗口关系与框架" class="sidebar-link">窗口关系与框架</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#window-innerheight-innerwidth" class="sidebar-link">window.innerHeight   innerWidth</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#window-open" class="sidebar-link">window.open</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#检测出调用-window-open-打开的弹出窗口是不是被屏蔽了" class="sidebar-link">检测出调用 window.open()打开的弹出窗口是不是被屏蔽了</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#同步的操作-代码会停止执行" class="sidebar-link">同步的操作，代码会停止执行</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#异步的" class="sidebar-link">异步的</a></li></ul></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#location" class="sidebar-link">location</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#window-location-和-document-location-引用的是同一个对象" class="sidebar-link">window.location 和 document.location 引用的是同一个对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#navigator" class="sidebar-link">navigator</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#screen和history" class="sidebar-link">screen和history</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#客户端检测" class="sidebar-link">客户端检测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#能力检测-在编写代码之前先检测特定浏览器的能力-对于想知道某个特性代码是否会按照适当方式行事。" class="sidebar-link">能力检测（在编写代码之前先检测特定浏览器的能力）对于想知道某个特性代码是否会按照适当方式行事。</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#怪癖检测" class="sidebar-link">怪癖检测</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#navigator-useragent。" class="sidebar-link">navigator.userAgent。</a></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#以下是完整的用户代理字符串检测脚本-包括检测呈现引擎、平台、windows-操作系统、移动设备和游戏系统。" class="sidebar-link">以下是完整的用户代理字符串检测脚本，包括检测呈现引擎、平台、Windows 操作系统、移动设备和游戏系统。</a></li></ul></li><li class="sidebar-sub-header"><a href="/easy-bookmark/front/bom.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/easy-bookmark/front/browser.html" class="sidebar-link">浏览器相关</a></li><li><a href="/easy-bookmark/front/charts.html" class="sidebar-link">可视化</a></li><li><a href="/easy-bookmark/front/codeESLint.html" class="sidebar-link">代码规范</a></li><li><a href="/easy-bookmark/front/computerBook.html" class="sidebar-link">计算机 📚</a></li><li><a href="/easy-bookmark/front/computerNetwork.html" class="sidebar-link">计算机网络</a></li><li><a href="/easy-bookmark/front/cssLessScss.html" class="sidebar-link">CSS</a></li><li><a href="/easy-bookmark/front/dataMock.html" class="sidebar-link">Mock Data</a></li><li><a href="/easy-bookmark/front/dataStructureAndAlgorithm.html" class="sidebar-link">数据结构与算法</a></li><li><a href="/easy-bookmark/front/dom.html" class="sidebar-link">DOM</a></li><li><a href="/easy-bookmark/front/es6.html" class="sidebar-link">es6</a></li><li><a href="/easy-bookmark/front/frontendSecurity.html" class="sidebar-link">前端安全</a></li><li><a href="/easy-bookmark/front/futureDevelopment.html" class="sidebar-link">前端社区发展，新技术</a></li><li><a href="/easy-bookmark/front/gitNpm.html" class="sidebar-link">版本控制等</a></li><li><a href="/easy-bookmark/front/h5css3.html" class="sidebar-link">HTML（5）CSS（3）基础</a></li><li><a href="/easy-bookmark/front/http.html" class="sidebar-link">http请求</a></li><li><a href="/easy-bookmark/front/javascriptTypescript.html" class="sidebar-link">js 和 ts</a></li><li><a href="/easy-bookmark/front/libraryFrame.html" class="sidebar-link">流行的库和框架</a></li><li><a href="/easy-bookmark/front/miniapp.html" class="sidebar-link">小程序</a></li><li><a href="/easy-bookmark/front/module.html" class="sidebar-link">模块化开发与构建工具</a></li><li><a href="/easy-bookmark/front/networkCommunication.html" class="sidebar-link">网络通信</a></li><li><a href="/easy-bookmark/front/performanceOptimization.html" class="sidebar-link">性能优化</a></li><li><a href="/easy-bookmark/front/programming.html" class="sidebar-link">编程思想</a></li><li><a href="/easy-bookmark/front/regularExpression.html" class="sidebar-link">正则</a></li><li><a href="/easy-bookmark/front/softwareApi.html" class="sidebar-link">软件架构</a></li><li><a href="/easy-bookmark/front/ssr.html" class="sidebar-link">SSR</a></li><li><a href="/easy-bookmark/front/unitTest.html" class="sidebar-link">单元测试</a></li><li><a href="/easy-bookmark/front/utils.html" class="sidebar-link">工具库</a></li><li><a href="/easy-bookmark/front/v8.html" class="sidebar-link">v8 Chrome</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <ul><li>BOM的核心：window对象</li> <li>控制窗口、框架、弹出窗口</li> <li>location对象了解页面信息</li> <li>navigator对象了解浏览器</li></ul> <h2 id="window"><a href="#window" class="header-anchor">#</a> window</h2> <h3 id="window对象"><a href="#window对象" class="header-anchor">#</a> window对象</h3> <ul><li><p>既是通过js访问浏览器窗口的一个接口，又是全局对象global。</p></li> <li><p>尝试访问未声明的变量会报错，但通过window. 点属性，可以知道某个可能未声明的变量是否存在。</p></li></ul> <h3 id="窗口关系与框架"><a href="#窗口关系与框架" class="header-anchor">#</a> 窗口关系与框架</h3> <ul><li><p>如果页面包含框架，则每个框架都有自己的window对象，并保存在frames集合中。可通过数值索引从0开始，或者框架name访问相应的window对象。window.frames[0]，或者，window.frames['name']。但其实用top好，因为top对象始终指向最高最外层的框架，也就是浏览器窗口。window下有top最顶层，parent父级。
每个window对象都有一个name属性，其中包含框架名称。
在使用框架的情况下，浏览器会存在多个global对象，每个框架都会有一套自己的构造函数，所以top.Object并不等于top.frames[0].Object，这个问题会影响到对跨域框架传递的对象使用instanceof。</p></li> <li><p>可能被浏览器禁用，且只支持最外层window，不支持框架</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>接收的是新位置的 x 和 y 坐标值，而 <span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>接收的是在水平和垂直方向上移动的像素数
<span class="token comment">//将窗口移动到(200,300)</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将窗口向左移动 50 像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>接收浏览器窗口的新宽度和新高度，而 <span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>接收新窗口与原窗口的宽
度和高度之差
<span class="token comment">//调整到 100×100</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//调整到 200×150</span>
window<span class="token punctuation">.</span><span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="window-innerheight-innerwidth"><a href="#window-innerheight-innerwidth" class="header-anchor">#</a> window.innerHeight   innerWidth</h3> <ul><li>window.innerHeight   innerWidth页面视图区域大小，window.outerHeight  outerWidth浏览器窗口本身大小
document.documentElement.clientWidth 和document.documentElement.clientHeight 中保存了页面视口的信息
document.body.clientWidth 和 document.body.clientHeight 取得相同信息</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 取得页面视口大小：</span>
<span class="token keyword">var</span> pageWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
    pageHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
<span class="token comment">// 判断是不是数值</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> pageWidth <span class="token operator">!=</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">// 判断是不是标准模式</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;CSS1Compat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="window-open"><a href="#window-open" class="header-anchor">#</a> window.open</h3> <ul><li>window.open()方法既可以导航到一个特定的 URL，也可以打开一个新的浏览器窗口。方法返回一个指向新窗口的引用。（有些浏览器在默认情况下可能不允许我们针对主浏览器窗口调整大小或移动位置，但却允许我们针对通过 window.open()创建的窗口调整大小或移动位置。）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 适用于通过 window.open()打开的弹出窗口</span>
<span class="token keyword">var</span> wroxWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.wrox.com/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wroxWindow&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;height=400,width=400,top=10,left=10,resizable=yes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//调整大小</span>
wroxWin<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//移动位置</span>
wroxWin<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用 close()方法还可以关闭新打开的窗口。</span>
wroxWin<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 弹出窗口倒是可以调用 top.close()在不经用户允许的情况下关闭自己。弹出窗口关闭之后，窗口的引用仍然还在，但除了像下面这样检测其 closed 属性之外，已经没有其他用处了。</span>
wroxWin<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>wroxWin<span class="token punctuation">.</span>closed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true </span>
</code></pre></div><ul><li>4 个参数</li></ul> <p>1、要加载的 URL、</p> <p>2、窗口目标、【该参数若是已有窗口或框架的名称，则在其上打开url，若不是则创建一个新窗口打开url并命名为该参数】【或者这些值_self、_parent、_top 或_blank】</p> <p>3、一个特性字符串、【不打开新窗口的情况下，会忽略第三个参数】否则【第三个参数是一个逗号分隔的设置字符串，表示在新窗口中都显示哪些特性】如：字符串，逗号分开，名值对等号连接，不允许有空格</p> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open" target="_blank" rel="noopener noreferrer">详细参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>4、一个表示新页面是否取代浏览器历史记录中当前加载页面的布尔值（只在不打开新窗口的情况下使用）</p> <h3 id="检测出调用-window-open-打开的弹出窗口是不是被屏蔽了"><a href="#检测出调用-window-open-打开的弹出窗口是不是被屏蔽了" class="header-anchor">#</a> 检测出调用 window.open()打开的弹出窗口是不是被屏蔽了</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> blocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wroxWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.wrox.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>wroxWin <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        blocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
    blocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>blocked<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;The popup was blocked!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="同步的操作-代码会停止执行"><a href="#同步的操作-代码会停止执行" class="header-anchor">#</a> 同步的操作，代码会停止执行</h3> <ul><li><p>alert('1')</p></li> <li><p>confirm('111')取消确定返回true，false</p></li> <li><p>prompt(&quot;What's your name?&quot;,&quot;xxx&quot;)  确定返回输入框值，取消或关闭返回null</p></li></ul> <h3 id="异步的"><a href="#异步的" class="header-anchor">#</a> 异步的</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//显示“打印”对话框</span>
window<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//显示“查找”对话框</span>
window<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="location"><a href="#location" class="header-anchor">#</a> location</h2> <h3 id="window-location-和-document-location-引用的是同一个对象"><a href="#window-location-和-document-location-引用的是同一个对象" class="header-anchor">#</a> window.location 和 document.location 引用的是同一个对象</h3> <ul><li><p>location.属性</p> <ul><li>hash | 返回一个URL的锚部分 | &quot;#idcontents&quot;</li> <li>host | 返回一个URL的主机名和端口 | &quot;www.google.com:80&quot;</li> <li>hostname | 返回URL的主机名 | &quot;www.google.com&quot;</li> <li>href | 返回完整的URL | &quot;http:/www.google.com&quot;</li> <li>pathname | 返回的URL路径名 | &quot;/name1/&quot;</li> <li>port | 返回一个URL服务器使用的端口号 | &quot;8080&quot;</li> <li>protocol | 返回一个URL协议 | &quot;http:&quot;</li> <li>search | 返回一个URL的查询部分 | &quot;?q=js&quot;</li></ul></li> <li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location" target="_blank" rel="noopener noreferrer">location属性值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>每次修改location属性页面都会以url重新加载，除了hash，hash有history，不想有历史记录回退前进，使用replace。</p> <ul><li><p>window.location.assign(url) ： 加载 URL 指定的新的 HTML 文档。就相当于一个链接，跳转到指定的url，当前页面会转为新页面内容，可以点击后退返回上一个页面。</p></li> <li><p>window.location.replace(url) ： 通过加载 URL 指定的文档来替换当前文档，这个方法是替换当前窗口页面，前后两个页面共用一个窗口，所以是没有后退返回上一页的</p></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// reload，没参数以最有效的方式重新加载（如果自上次请求后并没变过，就去缓存拿）</span>
<span class="token comment">// 如果要强制从服务器重新加载，则需要像下面这样为该方法传递参数 true</span>
location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//重新加载（有可能从缓存中加载）</span>
location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//重新加载（从服务器重新加载）</span>
location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>newURL<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//可用一个新文档取代当前文档</span>
<span class="token comment">// 位于 reload()调用之后的代码可能会也可能不会执行，这要取决于网络延迟或系统资源等因素。为此，最好将 reload()放在代码的最后一行。</span>
</code></pre></div><ul><li>查询字符串参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getQueryStringArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//取得查询字符串并去掉开头的问号</span>
    <span class="token keyword">var</span> qs <span class="token operator">=</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//保存数据的对象</span>
    args <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//取得每一项</span>
    items <span class="token operator">=</span> qs<span class="token punctuation">.</span>length <span class="token operator">?</span> qs<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    item <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> 
    value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">//在 for 循环中使用</span>
    i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token comment">//逐个将每一项添加到 args 对象中</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        item <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        name <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            args<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> args<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="navigator"><a href="#navigator" class="header-anchor">#</a> navigator</h2> <ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/NavigatorID/userAgent" target="_blank" rel="noopener noreferrer">userAgent参数意义<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>检测浏览器插件</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>plugins
window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//只更新 plugins集合，不重新加载页面</span>
window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">//会重新加载包含插件的所有页面</span>

<span class="token comment">// 非IE：plugins数组检测</span>
<span class="token comment">// 检测插件（在 IE 中无效）</span>
<span class="token keyword">function</span> <span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span> plugins <span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//检测 Flash</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;Flash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//检测 QuickTime</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;QuickTime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="screen和history"><a href="#screen和history" class="header-anchor">#</a> screen和history</h2> <ul><li><p>screen对象基本上只用来表明客户端的能力，其中包括浏览器窗口外部的显示器的信息，如像素宽度和高度等</p></li> <li><p>history对象保存着用户上网的历史记录，从窗口被打开的那一刻算起。</p></li> <li><p>因为 history 是 window对象的属性，因此每个浏览器窗口、每个标签页乃至每个框架，都有自己的 history 对象与特定的window 对象关联。</p></li> <li><p>go()方法可以在用户的历史记录中任意跳转；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//后退一页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//前进一页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//前进两页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>也可以给 go()方法传递一个字符串参数，此时浏览器会跳转到历史记录中包含该字符串的第一个位置——可能后退，也可能前进，具体要看哪个位置最近。如果历史记录中不包含该字符串，那么这个方法什么也不做</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//跳转到最近的 wrox.com 页面</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">&quot;wrox.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//跳转到最近的 nczonline.net 页面</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">&quot;nczonline.net&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>还可以使用两个简写方法 back()和 forward()来代替 go()。顾名思义，这两个方法可以模仿浏览器的“后退”和“前进”按钮。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//后退一页</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//前进一页</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>history 对象还有一个 length 属性，保存着历史记录的数量</p></li></ul> <h2 id="客户端检测"><a href="#客户端检测" class="header-anchor">#</a> 客户端检测</h2> <h3 id="能力检测-在编写代码之前先检测特定浏览器的能力-对于想知道某个特性代码是否会按照适当方式行事。"><a href="#能力检测-在编写代码之前先检测特定浏览器的能力-对于想知道某个特性代码是否会按照适当方式行事。" class="header-anchor">#</a> 能力检测（在编写代码之前先检测特定浏览器的能力）对于想知道某个特性代码是否会按照适当方式行事。</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//检查 sort 是不是函数</span>
<span class="token keyword">function</span> <span class="token function">isSortable</span><span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">typeof</span> object<span class="token punctuation">.</span>sort <span class="token operator">==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="怪癖检测"><a href="#怪癖检测" class="header-anchor">#</a> 怪癖检测</h3> <p>（怪癖实际上是浏览器实现中存在的 bug）前提知道某浏览器有什么bug，然后去检测。</p> <h3 id="navigator-useragent。"><a href="#navigator-useragent。" class="header-anchor">#</a> navigator.userAgent。</h3> <p>userAgent 属性是一个只读的字符串，声明了浏览器用于 HTTP 请求的用户代理头的值。浏览器应该发送简短的用户代理字符串，指明浏览器的名称和版本号。</p> <p>用户代理检测（通过检测用户代理字符串userAgent来识别浏览器）</p> <h3 id="以下是完整的用户代理字符串检测脚本-包括检测呈现引擎、平台、windows-操作系统、移动设备和游戏系统。"><a href="#以下是完整的用户代理字符串检测脚本-包括检测呈现引擎、平台、windows-操作系统、移动设备和游戏系统。" class="header-anchor">#</a> 以下是完整的用户代理字符串检测脚本，包括检测呈现引擎、平台、Windows 操作系统、移动设备和游戏系统。</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">client</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//呈现引擎</span>
 <span class="token keyword">var</span> engine <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">gecko</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">webkit</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">khtml</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">opera</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

 <span class="token comment">//完整的版本号</span>
 <span class="token literal-property property">ver</span><span class="token operator">:</span> <span class="token keyword">null</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token comment">//浏览器</span>
 <span class="token keyword">var</span> browser <span class="token operator">=</span> <span class="token punctuation">{</span>

 <span class="token comment">//主要浏览器</span>
 <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">konq</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">opera</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

 <span class="token comment">//具体的版本号</span>
 <span class="token literal-property property">ver</span><span class="token operator">:</span> <span class="token keyword">null</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token comment">//平台、设备和操作系统</span>
 <span class="token keyword">var</span> system <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">win</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">mac</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">x11</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

 <span class="token comment">//移动设备</span>
 <span class="token literal-property property">iphone</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">ipod</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">ipad</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">ios</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">android</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">nokiaN</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">winMobile</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

 <span class="token comment">//游戏系统</span>
 <span class="token literal-property property">wii</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token literal-property property">ps</span><span class="token operator">:</span> <span class="token boolean">false</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

 <span class="token comment">//检测呈现引擎和浏览器</span>
 <span class="token keyword">var</span> ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>opera<span class="token punctuation">)</span><span class="token punctuation">{</span>
 engine<span class="token punctuation">.</span>ver <span class="token operator">=</span> browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> window<span class="token punctuation">.</span>opera<span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 engine<span class="token punctuation">.</span>opera <span class="token operator">=</span> browser<span class="token punctuation">.</span>opera <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">AppleWebKit\/(\S+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 engine<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 engine<span class="token punctuation">.</span>webkit <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//确定是 Chrome 还是 Safari</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Chrome\/(\S+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 browser<span class="token punctuation">.</span>chrome <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Version\/(\S+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 browser<span class="token punctuation">.</span>safari <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 <span class="token comment">//近似地确定版本号</span>
 <span class="token keyword">var</span> safariVersion <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>engine<span class="token punctuation">.</span>webkit <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 safariVersion <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>engine<span class="token punctuation">.</span>webkit <span class="token operator">&lt;</span> <span class="token number">312</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 safariVersion <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>engine<span class="token punctuation">.</span>webkit <span class="token operator">&lt;</span> <span class="token number">412</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 safariVersion <span class="token operator">=</span> <span class="token number">1.3</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 safariVersion <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 browser<span class="token punctuation">.</span>safari <span class="token operator">=</span> browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> safariVersion<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">KHTML\/(\S+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Konqueror\/([^;]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 engine<span class="token punctuation">.</span>ver <span class="token operator">=</span> browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 engine<span class="token punctuation">.</span>khtml <span class="token operator">=</span> browser<span class="token punctuation">.</span>konq <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">rv:([^\)]+)\) Gecko\/\d{8}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 engine<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 engine<span class="token punctuation">.</span>gecko <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//确定是不是 Firefox</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Firefox\/(\S+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 browser<span class="token punctuation">.</span>firefox <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MSIE ([^;]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 engine<span class="token punctuation">.</span>ver <span class="token operator">=</span> browser<span class="token punctuation">.</span>ver <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 engine<span class="token punctuation">.</span>ie <span class="token operator">=</span> browser<span class="token punctuation">.</span>ie <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>ver<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token comment">//检测浏览器</span>
 browser<span class="token punctuation">.</span>ie <span class="token operator">=</span> engine<span class="token punctuation">.</span>ie<span class="token punctuation">;</span>
 browser<span class="token punctuation">.</span>opera <span class="token operator">=</span> engine<span class="token punctuation">.</span>opera<span class="token punctuation">;</span>
 <span class="token comment">//检测平台</span>
 <span class="token keyword">var</span> p <span class="token operator">=</span> navigator<span class="token punctuation">.</span>platform<span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Win&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>mac <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Mac&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>x11 <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token string">&quot;X11&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Linux&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//检测 Windows 操作系统</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>system<span class="token punctuation">.</span>win<span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;NT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">switch</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">[</span><span class="token string">&quot;$2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&quot;5.0&quot;</span><span class="token operator">:</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;2000&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&quot;5.1&quot;</span><span class="token operator">:</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;XP&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&quot;6.0&quot;</span><span class="token operator">:</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;Vista&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&quot;6.1&quot;</span><span class="token operator">:</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;NT&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;9x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;ME&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token comment">//移动设备</span>
system<span class="token punctuation">.</span>iphone <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;iPhone&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>ipod <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;iPod&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>ipad <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;iPad&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>nokiaN <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;NokiaN&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token comment">//windows mobile</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>system<span class="token punctuation">.</span>win <span class="token operator">==</span> <span class="token string">&quot;CE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>winMobile <span class="token operator">=</span> system<span class="token punctuation">.</span>win<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>system<span class="token punctuation">.</span>win <span class="token operator">==</span> <span class="token string">&quot;Ph&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Windows Phone OS (\d+.\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>win <span class="token operator">=</span> <span class="token string">&quot;Phone&quot;</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>winMobile <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">[</span><span class="token string">&quot;$1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token comment">//检测 iOS 版本</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>system<span class="token punctuation">.</span>mac <span class="token operator">&amp;&amp;</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Mobile&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">CPU (?:iPhone )?OS (\d+_\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>ios <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>ios <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//不能真正检测出来，所以只能猜测</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token comment">//检测 Android 版本</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Android (\d+\.\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 system<span class="token punctuation">.</span>android <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token comment">//游戏系统</span>
 system<span class="token punctuation">.</span>wii <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Wii&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 system<span class="token punctuation">.</span>ps <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">playstation</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//返回这些对象</span>
 <span class="token keyword">return</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">engine</span><span class="token operator">:</span> engine<span class="token punctuation">,</span>
 <span class="token literal-property property">browser</span><span class="token operator">:</span> browser<span class="token punctuation">,</span>
 <span class="token literal-property property">system</span><span class="token operator">:</span> system
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ul><li><p>*在使用框架时，每个框架都有自己的 window 对象以及所有原生构造函数及其他函数的副本。每个框架都保存在 frames 集合中，可以通过位置或通过名称来访问。</p></li> <li><p>*有一些窗口指针，可以用来引用其他框架，包括父框架。</p></li> <li><p>*top 对象始终指向最外围的框架，也就是整个浏览器窗口。</p></li> <li><p>*parent 对象表示包含当前框架的框架，而 self 对象则回指 window</p></li> <li><p>*使用 location 对象可以通过编程方式来访问浏览器的导航系统。设置相应的属性，可以逐段或整体性地修改浏览器的 URL。</p></li> <li><p>*调用 replace()方法可以导航到一个新 URL，同时该 URL 会替换浏览器历史记录中当前显示的页面。</p></li> <li><p>*navigator 对象提供了与浏览器有关的信息。到底提供哪些信息，很大程度上取决于用户的浏览器；不过，也有一些公共的属性（如 userAgent）存在于所有浏览器中。</p></li> <li><p>*screen 对象中保存着与客户端显示器有关的信息，这些信息一般只用于站点分析。</p></li> <li><p>*history 对象为访问浏览器的历史记录开了一个小缝隙，开发人员可以据此判断历史记录的数量，也可以在历史记录中向后或向前导航到任意页面。</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/foreverwaiting/easy-bookmark/edit/master/docs/front/bom.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/27/2020, 12:56:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/easy-bookmark/front/backend.html" class="prev">
        back end
      </a></span> <span class="next"><a href="/easy-bookmark/front/browser.html">
        浏览器相关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/easy-bookmark/assets/js/app.98929521.js" defer></script><script src="/easy-bookmark/assets/js/2.6ed84ef8.js" defer></script><script src="/easy-bookmark/assets/js/37.50b96313.js" defer></script>
  </body>
</html>
