# 计算机 📚

## 计算机网络原理和因特网

### 网络概述

#### 网络定义及分类

1、计算机网络 = 计算机 + 通信技术

2、计算机网络五大基本元素

主机（用户终端/服务器）、交换节点、通信链路、拓扑结构(计算机网络物理布局)、通信软件

3、计算机网络分类

- 按覆盖范围：广域网、城域网、局域网
- 按传输方式： - 广播发送（以太网、wifi），一条线，只有一个通信信道共享介质。（信道分配问题？静态/动态分配） - 单播：即使消息已被接收，还是会走遍所有节点 - 广播：广播地址 - 组播：组播地址、组成员 - 点-点传输。拓扑结构：树型、环型、星状。(路由器) - 单播：多跳传输 - 广播：多跳传输 - 组播：多跳传输
  按交换技术：电路交换、包交换

4、内容

<img :src="$withBase('/cs.jpg')" alt="cs">

#### 网络核心技术

1、电话网络与电路交换。(针对每对用户的电路建立)

交换机如何为每对通信节点建立电路？
多条电路如何共享一条高容量链路？

优点：实时性好、带宽保障、不存在信道访问延迟
缺点：长距离通讯建立连接时间长、扩展性差(硬件成本)

2、包交换技术。(针对每个包存储-转发)

存储-转发：交换节点接收存储包，交换机根据包目标地址转发
包分组：大小固定的数据块
报文：用户发送的原始数据

优点：带宽资源利用率有效、灵活
缺点：丢包、排队延迟(与流量成正比)

3、性能评估

丢包率：负载、介质
处理存储-转发时延：发送、次数
传播时延：距离、介质
吞吐量：瓶颈链路带宽

#### 网络结构 TCP/IP 协议栈

1、分层模型

- 为什么分层？

分而治之：简化问题、定位问题

- 层次结构

每一层目的：向上层提供服务、屏蔽实现细节

- 五层

物理层：0 和 1 的电信号
链接层：以太网协议、数据包的定义
网络层：IP 地址
传输层：端口、TCP/UDP
应用层：HTTP、FTP、IMAP、DNS

- OSI 定义了网络互连的七层框架（物理层、数据链路层、网络层、传输层、会话层、表示层、应用层），即 ISO 开放互连系统参考模型

### 通信概述

#### 数据与传输介质

1、信道通信方式

- 单工通信：光纤、广播电视电台

- 半双工通信：对讲机

- 全双工通信

2、信号+传输+数据

数据：模拟数据（语音图像连续变化的）、数字数据（文本和数据）
信号：连续信号，连续可变电压表示（模拟）、离散信号，01 特定电压表示（数字）

有些传输介质只能传输模拟信号，如电话线。

两者转换：调制解调

3、有线传输介质

电话线/双绞线、有线电视电缆、光纤、无线电

引导性介质（有线介质）：双绞线、同轴电缆、光纤（单多模）、电(力)线。====铜、光子
非引导性介质（无线介质）：电磁波

网线：
<img :src="$withBase('/wx.jpg')" alt="wx">

光电转换器：电子信号<->光信号

绝不能拿肉眼看光纤！！！

4、无线传输介质

无线电：穿墙、不受雨雪
微波：地面微波、卫星微波
红外：不能穿透

5、信道与容量

#### 数据编码技术

1、调制解调技术

数字信号与模拟信号：调制解调器

基于振幅的传输调制方式：调幅 AM
基于频率的传输调制方式：调频 FM
基于相位的传输调制方式：调相 PM

2、数字数据编码解码

你能听到的都是模拟信号，数字信号只有机器能懂。

数字化：将模拟信号转换成数字信号。

数字化过程详解：模拟数据（采样定理-量化-编码为二进制比特码组）--数字传输-- （解码-滤波器）模拟信号

3、数字数据编码：不归零、不归零反转、曼彻斯特、差分曼氏

#### 多路复用

1、充分利用信道传输能力。（多路复用器、多路分用器）

2、关键：把多路信号汇合到一条信道后，在接收端必须正确的分割出各种信号。

3、

- 频分多路复用技术【各走各道互不干扰】（每个数据信号被调制到具有不同频率的载波上）
- 时分多路复用技术【互相尊重共同前进】（以时间作为分割信号依据，每个信号在时间上交替出现，使得在一个传输链路上传输多个数字信号）。需要收发端旋转开关必须严格同步，即同频同相。
- 波分多路复用技术
- 码分多路复用技术

### 数据链路层

#### 概述

1、网络层通过接口把数据包交给链路层

2、链路层把包 装在本层协议规定的格式中（帧）

网卡物理层针对具体介质产生相应信号完成单个比特的传输

数据帧 Frame：在数据链路上交换数据的单位

包/分组 Packet：

3、数据链路层：负责整条路径上点-点数据传输、网络层与物理介质的桥梁、为网络层存储转发提供支持

#### 流量控制

解决发送方接收方能力不匹配问题，用来确保发送实体发出的数据不会覆盖接收方已接受的数据。

停等式控制：发帧-收帧-确认帧（ACK）-发下一个。（长距离效率低）

- 为什么数据分为许多小帧原因：
  - 接收缓冲区大小受限制
  - 传输数据越长出错可能性越大
  - 一个节点不能占用信道时间过长

滑动窗口流量控制：利用窗口控制连续发送的数据量。

<img :src="$withBase('/hdck.jpg')" alt="hdck">

窗口操作：在连续发送的情况下，利用模数运算让序号循环使用，但要在收发两端进行适当控制。

条件：两个节点全双工连接、收发双方为 n 个帧分配缓冲区、每个数据帧拥有一个序号

#### 差错控制（帧传输出现错误）（正确接收、检错能力、纠错能力）

1、错误情况：数据帧丢失、确认帧丢失（死等）、数据帧破坏

2、差错控制：对传输数据错误检测，并在发现错误时恰当处理。【差错检测、肯定确认、超时重发、否定确认与重发】

3、自动重发检错(ARQ)：纠错编码+校验码。 - 停等式 ARQ： - 滑动窗口式差错检测 ARQ：

4、奇偶校验码、循环校验码

#### 802.3 协议、802.11 协议

802.3：不可靠无连接数据传输服务

<img :src="$withBase('/8023.jpg')" alt="8023">

802.11：

<img :src="$withBase('/80211.jpg')" alt="80211">

### 网络层

#### 协议

1、TCP/IP 协议栈如下：

应用层
^
|
传输层 ————传输层报文（上层数据）
^
|
网络层 ————网络层包（IP 头+有效载荷）
^
|
链路层（802.3/802.11）————链路层帧（帧头+有效载荷）

2、网络层服务分：面向连接可靠、面向连接不可靠、可靠无连接、不可靠无连接

因特网提供的是最简单的不可靠的无连接服务。

3、因特网网络协议（沙漏模型 ⏳）

- 主协议：IP 互联网协议
- 包传递：ICMP 控制报文协议、ARP 地址解析协议
- 地址管理：DHCP 动态地址分配、NAT 地址转换
- 路由计算：OSPF 最短路径协议、BGP 边界网关协议

4、存储转发技术与点-点传输
网络层负责包的前进方向、链路层负责包的实际传输
一次端-端的网络层通信、由一系列点-点传输组成

5、IP 协议：为上层用户提供路尽力而为的无连接不可靠包传递服务

#### IP 协议

MAC 地址：也叫物理地址、硬件地址或链路地址，由网络设备制造商生产时写在硬件内部。不利网络寻址

IP 地址：其层次结构使得路由算法针对网络路由成为可能

点分十进制：将 32 位中每 8 位为 1 组，用十进制表示，利用点分割各部分。【ABC 单播地址、DE 组播地址】

IP 保留地址：不分配给主机

127 的 A 类地址仅指本机
