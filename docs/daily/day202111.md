# 2021-11

## 24

### http

å»ºç«‹ tcp

- -----SYN------>
- <----SYN/ACK---
- -----ACK------>
- -----http è¯·æ±‚-->
- <----http å“åº”---
- <----FIN-------
- -----ACK------>
- -----FIN------>
- <----ACK-------
  æ–­å¼€ tcp

### uri url

URL æ˜¯ URI çš„å­é›†

å‡è®¾æ‰€æœ‰çš„ Html æ–‡æ¡£éƒ½æœ‰å”¯ä¸€çš„ç¼–å·ï¼Œè®°ä½œ html:xxxxxï¼Œxxxxx æ˜¯ä¸€ä¸²æ•°å­—ï¼Œå³ Html æ–‡æ¡£çš„èº«ä»½è¯å·ç ï¼Œè¿™ä¸ªèƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ª Html æ–‡æ¡£ï¼Œé‚£ä¹ˆè¿™ä¸ªå·ç å°±æ˜¯ä¸€ä¸ª URIã€‚

è€Œ URL åˆ™é€šè¿‡æè¿°æ˜¯å“ªä¸ªä¸»æœºä¸Šå“ªä¸ªè·¯å¾„ä¸Šçš„æ–‡ä»¶æ¥å”¯ä¸€ç¡®å®šä¸€ä¸ªèµ„æºï¼Œå¦‚https://www.zhihu.com/question/21950864ï¼Œä¹Ÿå°±æ˜¯å®šä½çš„æ–¹å¼æ¥å®ç°çš„URIã€‚å¯¹äºç°åœ¨ç½‘å€æˆ‘æ›´å€¾å‘äºå«å®ƒURLï¼Œæ¯•ç«Ÿå®ƒæä¾›äº†èµ„æºçš„ä½ç½®ä¿¡æ¯ï¼Œ

å¦‚æœæœ‰ä¸€å¤©ç½‘å€é€šè¿‡å·ç æ¥æ ‡è¯†å˜æˆäº†http://741236985.htmlï¼Œé‚£æ„Ÿè§‰å«æˆURIæ›´ä¸ºåˆé€‚ï¼Œä¸è¿‡è¿™æ ·å­çš„è¯è¿˜å¾—æƒ³åŠæ³•æ‰¾åˆ°è¿™ä¸ªèµ„æºå’¯â€¦

### å¯†ç å¼ºåº¦ HTML meter å…ƒç´ 

`<meter min="0" max="100" low="30" high="60" optimum="80" value="50"></meter>`
[å¯†ç å¼ºåº¦æ•ˆæœ](https://www.zhangxinxu.com/wordpress/2021/11/html-meter-password/)

### js runtime

ä¸åŒçš„ JS runtime æä¾›äº†ä¸åŒ api ç»™ä¸Šå±‚åº”ç”¨ï¼Œè¿™æ˜¯åº”ç”¨å¼€å‘çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯åº”ç”¨å¼€å‘çš„èƒ½åŠ›è¾¹ç•Œã€‚

### å”¯ä¸€å€¼

[å°†å¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ï¼Œå®Œæˆä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„æ·±æ‹·è´](https://github.com/i5ik/weird-json)

ç”Ÿæˆå”¯ä¸€ï¼š

- Node.js API Crypto æä¾› **randomUUID()** æ–¹æ³•ï¼šlet uuid = crypto.randomUUID();
- ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼šDate.now().toString(36)
- ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼šMath.random().toString(36).slice(2)

- ä¸¤æ¬¡!!ï¼Œè¿™æ ·å¯ä»¥å°†ä»»ä½•å˜é‡è½¬æ¢ä¸ºå¸ƒå°”å€¼(åƒå¸ƒå°”å‡½æ•°)

### outline ä¸å ç©ºé—´çš„ border

- ä¼˜æƒ åˆ¸ä¼¼ UIã€å¤šè¾¹å½¢

```css
.outline-double {
  background-color: #80f0f0;
  outline: 40px dotted rgb(255, 1, 1);
  /* dashed */
  outline-offset: -20px;
}
```

## 23

### diff object

```js
var _ = require('lodash')

function difference(object, base) {
  function changes(object, base) {
    return _.transform(
      object,
      function(result, value, key) {
        if (!_.isEqual(value, base[key])) {
          result[key] =
            _.isObject(value) && _.isObject(base[key])
              ? changes(value, base[key])
              : value
        }
      },
      {}
    )
  }
  return changes(object, base)
}

function objectDiff(object, base) {
  function changes(object, base) {
    const accumulator = {}
    Object.keys(base).forEach(key => {
      if (object[key] === undefined) {
        accumulator[`-${key}`] = base[key]
      }
    })
    return _.transform(
      object,
      (accumulator, value, key) => {
        if (base[key] === undefined) {
          accumulator[`+${key}`] = value
        } else if (!_.isEqual(value, base[key])) {
          accumulator[key] =
            _.isObject(value) && _.isObject(base[key])
              ? changes(value, base[key])
              : value
        }
      },
      accumulator
    )
  }
  return changes(object, base)
}

var object = {
  name: 'biaotiä¿®æ”¹',
  desc: 'miaoshu',
  tempId: 1,
  taskList: [
    {
      target: 1,
      name: '10åˆ†é’Ÿ'
    },
    {
      target: 2,
      name: '20åˆ†é’Ÿä¿®æ”¹'
    },
    {
      target: 3,
      name: '30åˆ†é’Ÿæ–°å¢'
    }
  ]
}
var base = {
  name: 'biaoti',
  desc: 'miaoshu',
  tempId: 1,
  taskList: [
    {
      target: 1,
      name: '10åˆ†é’Ÿ'
    },
    {
      target: 2,
      name: '20åˆ†é’Ÿ'
    }
  ]
}

console.log(difference(object, base))
console.log(objectDiff(object, base))
```

## 22

### Unicode

#### åŸºæœ¬ä»‹ç»

1ã€Unicode ä¼šæä¾›ä¸€ä¸ª `æŠ½è±¡å­—ç¬¦åˆ—è¡¨`ï¼ˆå­—ç¬¦é›†ï¼‰ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦åˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç ä½æ ‡è¯†ç¬¦ï¼ˆç¼–ç å­—ç¬¦é›†ï¼‰

2ã€ç½‘ç«™ www.unicode.org æåˆ°ï¼šâ€œ Unicode ä¸ºæ¯ä¸ªå­—ç¬¦æä¾›äº†ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„æ•°å­—ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆå¹³å°ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆç¨‹åºï¼Œæ— è®ºæ˜¯ä»€ä¹ˆè¯­è¨€ã€‚â€

3ã€Unicode åŒ…å«äº†å½“ä»Šå¤§å¤šæ•°è¯­è¨€ä¸­çš„ å­—ç¬¦ã€æ ‡ç‚¹ç¬¦å·ã€å˜éŸ³ç¬¦å·ã€æ•°å­¦ç¬¦å·ã€æŠ€æœ¯ç¬¦å·ã€ç®­å¤´ã€emoji ç­‰ç­‰ã€‚

4ã€æœ€åˆçš„ Unicode ç‰ˆæœ¬ 1.0 åœ¨ 1991-10 å‘å¸ƒï¼ŒåŒ…å« 7,161 ä¸ªå­—ç¬¦ã€‚æœ€è¿‘çš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯ 14.0 ï¼ˆ2021-9 å‘å¸ƒï¼‰åŒ…å« 144,697 ä¸ªå­—ç¬¦ã€‚

#### æ¦‚å¿µâ€”â€”ç ä½&å­—ç¬¦

1ã€æŠ½è±¡å­—ç¬¦ ï¼ˆæˆ–è€…è¯´ `å­—ç¬¦`ï¼‰æ˜¯ç”¨äºç»„ç»‡ã€æ§åˆ¶ æˆ– è¡¨ç¤º æ–‡æœ¬æ•°æ® çš„ ä¿¡æ¯å•å…ƒâ€

2ã€ç ä½ æ˜¯åˆ†é…ç»™å•ä¸ªå­—ç¬¦çš„ä¸€ä¸ªæ•°å­—ã€‚ã€ç ä½ æ˜¯ä» U+0000 åˆ° U+10FFFF çš„æ•°å­—ã€‘

- U+`<hex>` æ˜¯ç ä½çš„æ ¼å¼ï¼Œå…¶ä¸­ U+ æ˜¯ä»£è¡¨ Unicode çš„å‰ç¼€ Uï¼Œè€Œ `<hex>` è¡¨ç¤ºåå…­è¿›åˆ¶æ•°å­—ã€‚ä¾‹å¦‚ï¼Œ U+0041 å’Œ U+2603 éƒ½æ˜¯ç ä½

- ç ä½ å°±æ˜¯ä¸€ä¸ªç®€ç®€å•å•çš„æ•°å­—ï¼Œä½ ä¸ç”¨è€ƒè™‘æ›´å¤šäº†ã€‚ç ä½ å°±æ˜¯ä¸€ç§æ•°ç»„ä¸­çš„å…ƒç´ ç´¢å¼•

- å¹¶éæ‰€æœ‰ ç ä½ éƒ½æœ‰å…³è”å­—ç¬¦ã€‚æ€»å…±æœ‰ 1,114,112 ä¸ªç ä½å¯ç”¨ï¼ˆèŒƒå›´ä»ä» U+0000 åˆ° U+10FFFF ï¼‰ï¼Œä½†æ˜¯åªæœ‰ 144,697 ä¸ªï¼ˆæˆªæ­¢ 2021.9ï¼‰è¢«åˆ†é…äº†å­—ç¬¦

#### æ¦‚å¿µâ€”â€”Unicode å¹³é¢ï¼ˆUnicode Planesï¼‰

1ã€U+0000 åˆ° U+10FFFF æœ‰ 1,114,112ï¼Œåˆ†ä¸º 17 åˆ†ï¼Œæ¯ä»½éƒ½æ˜¯ä¸€ä¸ªå¹³é¢

2ã€â€œ å¹³é¢ï¼ˆPlanesï¼‰ æ˜¯ä» U+n0000 åˆ° U+nFFFF çš„ 65,536 ä¸ªè¿ç»­çš„ç ä½ï¼Œn çš„å–å€¼èŒƒå›´ä» 0 åˆ° 10â€

- å¹³é¢ å°†å…¨éƒ¨çš„ Unicode ç ä½åˆ†æˆäº† 17 ä¸ªå‡ç­‰çš„ç»„ï¼š
- å¹³é¢ 0 åŒ…å«ä» U+0000 åˆ° U+FFFF çš„ ç ä½ã€‚ã€åŸºæœ¬å¤šæ–‡ç§å¹³é¢ã€‘
- å¹³é¢ 1 åŒ…å«ä» U+1000 åˆ° U+1FFFF çš„ ç ä½ã€‚ã€å¤šæ–‡ç§è¡¥å……å¹³é¢ã€‘
- å¹³é¢ 2 åŒ…å«ä» U+2000 åˆ° U+2FFFF çš„ ç ä½ã€‚ã€è¡¨æ„æ–‡å­—è¡¥å……å¹³é¢ã€‘
- â€¦
- å¹³é¢ 16 åŒ…å«ä» U+10000 åˆ° U+10FFFF çš„ ç ä½ã€‚ã€ç§äººä½¿ç”¨å¹³é¢ã€‘

3ã€åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆå¹³é¢ 0ï¼‰

- åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBasic Multilingual Planeï¼‰ æˆ– ç®€ç§° BMP ã€‚å®ƒåŒ…å«ç»å¤§å¤šæ•°ç°ä»£è¯­è¨€ä¸­çš„å­—ç¬¦ ï¼ˆBasic Latin åŸºç¡€æ‹‰ä¸å­—æ¯ï¼ŒCyrillic è¥¿é‡Œå°”å­—æ¯ï¼ŒGreek å¸Œè…Šå­—æ¯ï¼Œç­‰ç­‰ï¼‰å’Œ å¤§é‡çš„ç¬¦å·
- èŒƒå›´æ˜¯ä» U+0000 åˆ° U+FFFF ï¼Œæœ€å¤š 4 ä½åå…­è¿›åˆ¶æ•°å­—
  - e æ˜¯ U+0065 ï¼Œå‘½åä¸º LATIN SMALL LETTER E
  - | æ˜¯ U+007C ï¼Œå‘½åä¸º VERTICAL BAR
  - â–  æ˜¯ U+25A0 ï¼Œå‘½åä¸º BLACK SQUARE
  - â˜‚ æ˜¯ U+2602 ï¼Œå‘½åä¸º UMBRELLA

4ã€æ˜Ÿå…‰å¹³é¢ï¼ˆAstral planeï¼‰ï¼šåœ¨ BMP åçš„ 16 ä¸ªå¹³é¢ï¼ˆå¹³é¢ 1ï¼Œå¹³é¢ 2ï¼Œâ€¦ï¼Œå¹³é¢ 16ï¼‰è¢«ç§°ä¸º æ˜Ÿå…‰å¹³é¢ï¼ˆAstral Planeï¼‰ æˆ– è¾…åŠ©å¹³é¢ï¼ˆSupplementary Planesï¼‰

- æ˜Ÿå…‰å¹³é¢ ä¸­çš„ ç ä½ è¢«ç§°ä¸º æ˜Ÿå…‰ç ä½ã€‚ç ä½èŒƒå›´ä» U+10000 åˆ° U+10FFFF ã€‚
- ä¸€ä¸ª æ˜Ÿå…‰ç ä½ æœ‰ 5 æˆ– 6 ä½ åå…­è¿›åˆ¶æ•°å­—ï¼šU+ddddd æˆ– U+ddddddã€‚
  - ğ„ æ˜¯ U+1D11E ï¼Œå‘½åä¸º MUSICAL SYMBOL G CLEF
  - ğ æ˜¯ U+1D401 ï¼Œå‘½åä¸º MATHEMATICAL BOLD CAPITAL B
  - ğŸ€µ æ˜¯ U+1F035 ï¼Œå‘½åä¸º DOMINO TITLE HORIZONTAL-00-04
  - ğŸ˜€ æ˜¯ U+1F600 ï¼Œå‘½åä¸º GRINNING FACE

#### ç¡¬ä»¶ç‰©ç†å±‚é¢

1ã€ç å…ƒï¼š æ˜¯ç”¨äº ä»¥ç»™å®šç¼–ç æ ¼å¼ å¯¹æ¯ä¸ªå­—ç¬¦ç¼–ç  çš„ä¸€ä¸ª äºŒè¿›åˆ¶ä½åºåˆ—â€

2ã€`å­—ç¬¦ç¼–ç ` å°† æŠ½è±¡çš„ `ç ä½` è½¬æ¢ä¸º ç‰©ç†çš„ äºŒè¿›åˆ¶ä½(ç å…ƒ)ã€‚æ¢å¥è¯è¯´ï¼Œå­—ç¬¦ç¼–ç  å°† Unicode ç ä½ è½¬æ¢ä¸ºäº† å”¯ä¸€çš„ ç å…ƒåºåˆ—

- å­—ç¬¦ç¼–ç  æœ‰ UTF-8ã€UTF-16 å’Œ UTF-32

[Unicode](https://mp.weixin.qq.com/s/YIJzT7ymxbxNxXYsV8zpVg)

[clip-path å®ç°åŠ¨æ€åŒºåŸŸè£å‰ª](https://mp.weixin.qq.com/s/gCnARLm8azJREddednHXug)

```js
<nav>
  <div class="navicon">
    <div></div>
  </div>
  <a>Home</a>
  <a>Notifications</a>
  <a>Messages</a>
  <a>Profile</a>
  <a>Settings</a>
</nav>

$page-background : #303f9f;
$nav-background : white;
$color : rgba(black, .87);
$transition : .75s;

@import url(https://fonts.googleapis.com/css?family=Roboto:400,300,500);

body {
  font: 100% Roboto;
  background: $page-background;
  margin: 50px;
}

nav {
  width: 300px;
  background: $nav-background;
  color: $color;
  -webkit-clip-path: circle(24px at 30px 24px);
  clip-path: circle(24px at 32px 24px);
  transition:
    -webkit-clip-path $transition*.75,
    clip-path $transition/2;

  &:hover {
    transition-timing-function: ease-out;
    transition-duration: $transition;
    -webkit-clip-path: circle(390px at 225px 24px);
    clip-path: circle(390px at 150px 24px);
  }
}

a {
  display: block;
  line-height: 50px;
  padding: 0 20px;
  color: inherit;
  cursor: pointer;
  user-select: none;

  &:hover { background: #ffe082; }
  &:active { background: #ffca28; }
}


@mixin line {
  width: 20px;
  height: 2px;
  background: $color;
}

.navicon {
  padding: 23px 20px;
  cursor: pointer;
  transform-origin: 32px 24px;

  div {
    position: relative;
    @include line;

    &:before, &:after {
      display: block;
      content: "";
      @include line;
      position: absolute;
    }

    &:before { top: -7px; }
    &:after { top: 7px; }
  }
}
```

## 21

### Unicode ç¼–ç 

[Unicode ç¼–ç ](http://www.fmddlmyy.cn/text6.html)

### å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµ

[å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµ](https://mp.weixin.qq.com/s?__biz=MzI0NTE5NzYyMw==&mid=2247486191&idx=1&sn=7fd82697facf0eb1e70a975943036db2&chksm=e95374b7de24fda1a9df03abcd275d5c5cfac5282c7713d9242af0dc6513786a0b9358cb8e11&scene=178&cur_album_id=1506334666021273601#rd)

[å¸å¾’æ­£ç¾ - å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµ](https://zhuanlan.zhihu.com/p/38313717)

### åŠ›æ‰£ 318. æœ€å¤§å•è¯é•¿åº¦ä¹˜ç§¯ ä½è¿ç®—&charCodeAt

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ Â wordsï¼Œæ‰¾åˆ° Â length(word[i]) \* length(word[j])Â  çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå•è¯ä¸å«æœ‰å…¬å…±å­—æ¯ã€‚ä½ å¯ä»¥è®¤ä¸ºæ¯ä¸ªå•è¯åªåŒ…å«å°å†™å­—æ¯ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå•è¯ï¼Œè¿”å› 0ã€‚

å·¦ç§»æ“ä½œç¬¦å°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°å‘å·¦ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå·¦è¾¹è¶…å‡ºçš„ä½æ•°å°†ä¼šè¢«æ¸…é™¤ï¼Œå³è¾¹å°†ä¼šè¡¥é›¶ã€‚

ç§»åŠ¨ä»»æ„æ•°å­— x è‡³å·¦è¾¹ y ä½ï¼Œå¾—å‡º x _ 2 \*\* y ã€‚æ‰€ä»¥ä¾‹å¦‚ï¼š9 << 3 ç­‰ä»·äº 9 _ 2Â³ = 9 \* 8 = 72ã€‚

```js
// è¾“å…¥: ["abcw","baz","foo","bar","xtfn","abcdef"]
// è¾“å‡º: 16
// è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "abcw", "xtfn"

// ('a').charCodeAt() === 97
// charCodeAtä¸ä¼ å€¼é»˜è®¤ä¸º0ï¼Œåªèƒ½å¯¹å­—ç¬¦ä¸²ä½œç”¨ï¼Œç©ºä¸²ä½Nan

// Operator: x |= y
// Meaning:  x  = x | y

/**
 * @param {string[]} words
 * @return {number}
 */
var maxProduct = function(words) {
  // let res = 0;
  // words.forEach(x => {
  //     words.forEach(y => {
  //         const bool = x.split('').some(oo => y.split('').includes(oo));
  //         if(!bool){
  //             res = Math.max(x.length * y.length, res);
  //         }
  //     })
  // })
  // return res;
  let len = words.length
  let max = 0
  let bits = new Array(len).fill(0)

  // æ„å»ºæ¯ä¸€ä¸ªå•è¯çš„äºŒè¿›åˆ¶å€¼
  for (let i = 0; i < len; i++) {
    let word = words[i]
    for (let j = 0; j < word.length; j++) {
      bits[i] |= 1 << (word[j].charCodeAt() - 97)
    }
  }

  for (let i = 0; i < len; i++) {
    for (let j = 0; j < i; j++) {
      if ((bits[i] & bits[j]) === 0) {
        max = Math.max(max, words[i].length * words[j].length)
      }
    }
  }

  return max
}
```

## 20

### å‰ç«¯æ–°é¢˜

Web ç›‘æ§ã€è·¨ç«¯ã€ä¸­åå°ä½ä»£ç ã€ESM Bundleless

Vite/Snowpack ç­‰åŸºäº ESM çš„æ„å»ºå·¥å…·å‡ºç°ï¼Œç»™ Dev ç ”å‘å¸¦æ¥äº†æ•°åå€çš„æé€Ÿã€‚å€ŸåŠ©æµè§ˆå™¨ ES Module import çš„èƒ½åŠ›ï¼Œç‰¹åˆ«æ˜¯å½“ HTTP/2 æ”¯æŒè¯·æ±‚ä¸å“åº”çš„å¤šè·¯å¤ç”¨çš„ä¼ è¾“æ•ˆç‡æå‡ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å†éœ€è¦ç­‰å¾…ä¸€ä¸ªå®Œæ•´ bundle çš„æ„å»ºã€‚

### TypeScript 4.5 æ¨¡å—èƒ½åŠ›

[é“¾æ¥](https://mp.weixin.qq.com/s/zZnXaBbsADoBNPCc4mD_HA)

```js
// å³å°†è¿›å…¥ release çš„ TypeScript 4.5 ç‰ˆæœ¬ä¸­ï¼Œç»™ compilerOptions çš„æ¨¡å—èƒ½åŠ›å¢åŠ äº†ä¸¤ä¸ªæ–°çš„å±æ€§ï¼š
// è¿™ä¸ªå±æ€§ä¸»è¦ç”¨æ¥æ§åˆ¶ TS é¡¹ç›®çš„æ¨¡å—ç³»ç»Ÿç©¶ç«Ÿé‡‡ç”¨å“ªç§
{
  "compilerOptions": {
    "module": "nodenext"
  }
}
// Or
{
  "compilerOptions": {
    "module": "node12"
  }
}
```

### Node.js çš„æ¨¡å—æ¼”è¿›

#### æ¨¡å—å…¥å£å®šä¹‰

node-v12.7.0 å‰ï¼šå¯¹äºä¸€ä¸ª npm åŒ…æˆ‘ä»¬åªéœ€è¦åœ¨ package.json ä¸­å®šä¹‰ main å­—æ®µå³å¯çº¦æŸæ¨¡å—çš„å…¥å£

node-v12.7.0 åï¼šæ–°å¢äº† exports å±æ€§æ¥è¿›è¡Œæ›´åŠ ç²¾å‡†çš„å¯¼å‡ºå®šä¹‰ï¼Œå¥½å¤„æ˜¯

1ã€å¯ä»¥é™åˆ¶å¤–éƒ¨å¯¹äº npm åŒ…å†…ä»»æ„æ–‡ä»¶çš„å¼•ç”¨

2ã€exports ç›¸æ¯” main æ”¯æŒäº†æ¡ä»¶å…¥å£ã€‚å®ç°äº†åŒä¸€ä¸ªåŒ…å¯ä»¥åŒæ—¶å®šä¹‰ commonjs å’Œ esmodule å…¥å£ï¼Œæ¢è¨€ä¹‹å¯ä»¥ä½¿ç”¨ä¸€ç§ç›¸å¯¹ä¼˜é›…çš„æ–¹å¼æ”¯æŒæ¨¡å—ä»¥ commonjs çš„æ–¹å¼åŠ è½½æˆ–è€…æ˜¯ esmodule çš„æ–¹å¼è¿›è¡ŒåŠ è½½

```js
{
  "name": "demo",
  "main": "demo.js"
  "exports": "./demo.js"
  "exports": {
    ".": {
      "import": "./foo.mjs",
      "require": "./foo.js"
    }
  }
  // æ­£ç¡®
  // require('demo');

  // é”™è¯¯ï¼š'./foo' åœ¨ exports ä¸­æœªå®šä¹‰
  // require('demo/foo')
}
```

#### æ¨¡å—æœºåˆ¶å®šä¹‰

node-v12.x å‰ï¼šå½“æ—¶ runtime å¼€å§‹æ”¯æŒ esmodule åï¼Œæœ€åˆåªèƒ½ä»…ä¾é æ–‡ä»¶åç¼€ .mjs æ¥åŒºåˆ†ä½¿ç”¨å“ªç§æ–¹å¼æ¥åŠ è½½æ¨¡å—

v12.0.0 åï¼šæ–°å¢äº† type å±æ€§æ¥å†³å®šé¡¹ç›®ä¸­çš„æ¨¡å—å¯¼å…¥é‡‡ç”¨å“ªç§æœºåˆ¶

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®šä¹‰ä¸º module åæ•´ä¸ªé¡¹ç›®ä¸­çš„ .js æ–‡ä»¶éƒ½ä¼šé‡‡ç”¨ esmodule çš„æ–¹å¼ä½œä¸ºæ¨¡å—æœºåˆ¶ï¼Œæ­¤æ—¶ moduleï¼Œexports å’Œ require ç­‰å…³é”®å­—éƒ½æ— æ³•ä½¿ç”¨ï¼Œå–ä»£çš„æ˜¯ import å’Œ export

```js
{
  "name": "demo",
  "type": "module"
}
```

#### å‰ç«¯ç›‘æ§ & æµè§ˆå™¨åŸºæœ¬åŸç†ä¸å®è·µ & requestAnimationFrame

[å‰ç«¯ç›‘æ§](https://juejin.cn/post/6844903545733398536)

[æµè§ˆå™¨åŸºæœ¬åŸç†ä¸å®è·µ](https://segmentfault.com/a/1190000040896436)

[requestAnimationFrame](https://mp.weixin.qq.com/s/ocFcBRjj8xzizF5ebFepdA)

#### Webpack æ€§èƒ½ç³»åˆ—å››ï¼šåˆ†åŒ…ä¼˜åŒ– SplitChunksPlugin

[åˆ†åŒ…](https://mp.weixin.qq.com/s/LrASIdA19iwIwng29G5HpA)

#### diff ç®—æ³•

[diff ç®—æ³•](https://mp.weixin.qq.com/s/Y6eD7RB74mE6ceEGMFBGug)

## 05

### webpack

[ms](https://github.com/yygmind/blog/issues/43)

[webpack](https://webpack.wuhaolin.cn/1%E5%85%A5%E9%97%A8/1-3%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html)

## 04

### pwa & Web Component

[Web Component](https://mp.weixin.qq.com/s/kYSs3jiSZ6xxrrLemH1ZaQ)

pwaï¼šç¦»çº¿å¯è®¿é—®æŠ€æœ¯ï¼ˆæ¸è¿›å¼ç½‘ç»œå¼€å‘åº”ç”¨ç¨‹åºï¼‰ï¼Œä½¿ç”¨ serviceworker å’Œ workbox æŠ€æœ¯ã€‚ä¼˜ç‚¹æ˜¯ç¦»çº¿ä¹Ÿèƒ½è®¿é—®ï¼Œç¼ºç‚¹æ˜¯å…¼å®¹æ€§å·®

### æˆ‘çš„ console å®ç”¨

```js
// 1ã€å¸¦é¢œè‰²
console.log('My Name is %cCUGGZ', 'color: skyblue; font-size: 30px;')

// 2ã€å›¾ç‰‡
console.log('%c ','background-image:url("http://iyeslogo.orbrand.com/150902Google/005.gif");background-size:120% 120%;background-repeat:no-repeat;background-position:center center;line-height:60px;padding:30px 120px;');

// 3ã€æ—¶é—´
console.time()  console.timeEnd()

console.time("timer2");
console.timeEnd("timer2")

// 3ã€è®¡æ—¶å™¨å½“å‰æ—¶é—´
console.timeLog("key")

// 4ã€æ‰§è¡Œæ¬¡æ•°
console.count()

console.dir()

// 5ã€table
const app = ["facebook", "google", "twitter"];
console.table(app);
// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦æ‰“å°çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯éœ€è¦æ‰“å°çš„è¡¨æ ¼çš„æ ‡é¢˜ï¼Œè¿™é‡Œå°±æ˜¯æ•°ç»„å¯¹è±¡çš„å±æ€§å€¼
console.table(users, ['first_name', 'last_name', 'city']);

// è°ƒç”¨æ ˆ
console.trace()

// å½“å‰consoleçš„å†…å­˜
console.memory
```

### Open Graph åˆ†äº«

[Open Graph protocol åˆ†æé“¾æ¥ç”Ÿæˆå¯è§†åŒ–åˆ†äº«ï¼šå¦‚é’‰é’‰è¯†åˆ«é“¾æ¥](https://juejin.cn/post/7023173942001008670)

- åŸºç¡€å±æ€§ï¼šå‘é¡µé¢æ·»åŠ åŸºæœ¬å…ƒæ•°æ®
- og:title - æŒ‡å®šä½ æƒ³è¦åœ¨å…±äº«æ—¶å±•ç¤ºçš„æ ‡é¢˜ã€‚è¿™é€šå¸¸ä¸ä½ ç½‘é¡µçš„`<title>`æ ‡ç­¾ç›¸åŒï¼Œä¾‹å¦‚â€œç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“â€ã€‚
- og:type- å¯¹è±¡çš„ç±»å‹ï¼Œä¾‹å¦‚â€œvideo.moviâ€‹â€‹eâ€ã€‚æ ¹æ®ä½ æŒ‡å®šçš„ç±»å‹çš„ä¸åŒï¼Œå¯èƒ½è¿˜éœ€è¦æ·»åŠ ä¸€äº›å…¶ä»–çš„ä¸åŒå±æ€§ã€‚
- og:image - ä¸€ä¸ªå›¾ç‰‡ URLã€‚
- og:url - æŒ‡å®šä½ æƒ³è¦å…±äº«çš„ URL/å½“å‰é¡µé¢çš„ URLï¼ˆå¯ä»¥æ˜¯çŸ­é“¾æ¥ï¼‰ï¼Œä¾‹å¦‚ï¼Œâ€œwww.baidu.com/â€ã€‚

å¦‚ä¸‹ Open Graph åè®®æ ‡è®°ï¼š

```html
<!-- è¯¦è§ï¼šhttps://ogp.me/ -->
<html prefix="og: https://ogp.me/ns#">
  <head>
    <title>The Rock (1996)</title>
    <meta property="og:title" content="The Rock" />
    <meta property="og:type" content="video.movie" />
    <meta property="og:url" content="https://www.imdb.com/title/tt0117500/" />
    <meta
      property="og:image"
      content="https://ia.media-imdb.com/images/rock.jpg"
    />
    ...
  </head>
  ...
</html>
```

## 03

### ç®—æ³•ï¼ˆç››æ°´é—®é¢˜ã€æ¥é›¨æ°´ï¼‰

- [ç››æ°´é—®é¢˜](https://www.cnblogs.com/forever-xuehf/p/12776145.html)
- [æ¥é›¨æ°´](https://leetcode-cn.com/problems/trapping-rain-water/)
- [æ¥é›¨æ°´ 2](https://leetcode-cn.com/problems/trapping-rain-water-ii/)

## 02

### ç®—æ³•ï¼ˆåˆ†å‰²æ•°å­—åŒºé—´ï¼‰

- [è¾“å…¥æ˜¯ 1,2,3,5,7,8,10 è¾“å‡ºè¦æ±‚æ˜¯ 1~3 5 7~8 10](https://mp.weixin.qq.com/s/-RNaRd1rQ4-1sbzGWwu2yg)

```js
function calcContinuousRanges(arr) {
  let continuousRanges = []
  let index = 0
  while (index < arr.length) {
    const range = {
      start: arr[index],
      end: arr[index]
    }
    while (index < arr.length && arr[index + 1] === arr[index] + 1) {
      range.end = arr[index + 1]
      index++
    }
    continuousRanges.push(range)
    index++
  }
  // console.log(JSON.stringify(continuousRanges));
  const formatted = continuousRanges
    .map(({ start, end }) => {
      return start === end ? start : `${start}~${end}`
    })
    .join(' ')
  console.log(formatted)
}

calcContinuousRanges([1, 2, 3, 5, 7, 8, 10])
```
